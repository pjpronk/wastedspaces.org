import{d as $,C as k,D as $e,E as b,t as r,v as m,F as P,_ as E,r as h,c as te,o as re,G as ce,z as c,x as I,H as oe,I as G,l as de,y as T,J as ie,K as q,A as w,L as Y,M as ne,B as U,m as ue,N as he,O as Se,u as we,P as ke}from"./CNmZaOxq.js";import{u as Oe}from"./l4lWXUxL.js";const Ae=["innerHTML"],Re=$({__name:"BaseIcon",props:{icon:{}},async setup(t){let e,n;const s=t,a=Object.fromEntries(Object.entries(Object.assign({"/assets/icons/add.svg":()=>k(()=>import("./BiKgAjhi.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/calendar.svg":()=>k(()=>import("./DrqZ3LR8.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/close.svg":()=>k(()=>import("./TfD_I-fS.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/documents.svg":()=>k(()=>import("./DOO1Ge5l.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/farm.svg":()=>k(()=>import("./0PHxwUTU.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/house.svg":()=>k(()=>import("./BtkviBJP.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/industry.svg":()=>k(()=>import("./BKUyxpaI.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/info.svg":()=>k(()=>import("./CZ-SqL3D.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/logo_standalone.svg":()=>k(()=>import("./B3A4rG9H.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/logo_standalone_red.svg":()=>k(()=>import("./CaUd5saq.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/logo_text.svg":()=>k(()=>import("./DF4MJzAr.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/logo_text_long.svg":()=>k(()=>import("./BUFqeKC3.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/logo_white.svg":()=>k(()=>import("./_bgolDXl.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/office.svg":()=>k(()=>import("./DRdKqeIu.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/other.svg":()=>k(()=>import("./BGeYsIfF.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/search.svg":()=>k(()=>import("./CF8Xzspr.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/shop.svg":()=>k(()=>import("./ClPQWvmX.js"),[],import.meta.url).then(o=>o.default)})).map(([o,i])=>[o.split("/").pop().split(".").shift(),i])),l=s.icon&&([e,n]=$e(()=>{var o;return(o=a==null?void 0:a[s.icon])==null?void 0:o.call(a)}),e=await e,n(),e);return(o,i)=>b(l)?(r(),m("div",{key:0,class:"base-icon",innerHTML:b(l)},null,8,Ae)):P("",!0)}}),le=E(Re,[["__scopeId","data-v-70594cde"]]),Ve=["id","value"],Te=$({__name:"BaseLocationInput",props:{modelValue:{type:String,default:""},google:{type:Object,required:!0},id:{type:String,default:"geocode"},restrictToSpecificAddresses:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1}},emits:["update:modelValue","update:address","update:city","locationSelected","validationError","update:latLng"],setup(t,{emit:e}){const n=t,s=e,a=h(null),l=te(()=>({types:n.restrictToSpecificAddresses?["address"]:["geocode"],fields:["formatted_address","geometry","name","address_components"]}));re(()=>{o()});function o(){var u;const i=document.getElementById(n.id);a.value=new n.google.maps.places.Autocomplete(i,l.value),(u=a.value)==null||u.addListener("place_changed",()=>{var p,f,y,S,g;const d=(p=a.value)==null?void 0:p.getPlace();if(d){if(n.restrictToSpecificAddresses&&!((f=d.address_components)==null?void 0:f.some(M=>M.types.includes("street_number")))){s("update:modelValue",""),s("validationError","Selecteer een specifiek adres met huisnummer");return}const O=(y=d.geometry)==null?void 0:y.location.lat(),C=(S=d.geometry)==null?void 0:S.location.lng();if(O&&C){const B=new ce(O,C);let M="",_="",v="";(g=d.address_components)==null||g.forEach(N=>{N.types.includes("route")&&(M=N.long_name),N.types.includes("street_number")&&(_=N.long_name),(N.types.includes("locality")||N.types.includes("administrative_area_level_2"))&&(v=N.long_name)});const x={address:_?`${M} ${_}`:M,city:v,latLng:B};s("locationSelected",B),s("update:address",x.address),s("update:city",x.city),s("update:latLng",x.latLng),s("validationError","")}}})}return(i,u)=>{const d=le;return r(),m("div",{class:oe(["base-location-input",{error:t.hasError}])},[c(d,{class:"icon-sxs secondary",icon:"search"}),I("input",{id:t.id,class:"input",value:t.modelValue,type:"text",placeholder:"Zoek op locatie",onInput:u[0]||(u[0]=p=>i.$emit("update:modelValue",p.target.value))},null,40,Ve)],2)}}}),Ce=E(Te,[["__scopeId","data-v-eb5e1356"]]);function De(t,e,n,s){function a(l){return l instanceof n?l:new n(function(o){o(l)})}return new(n||(n=Promise))(function(l,o){function i(p){try{d(s.next(p))}catch(f){o(f)}}function u(p){try{d(s.throw(p))}catch(f){o(f)}}function d(p){p.done?l(p.value):a(p.value).then(i,u)}d((s=s.apply(t,[])).next())})}function Pe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Be=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var s,a,l;if(Array.isArray(e)){if(s=e.length,s!=n.length)return!1;for(a=s;a--!==0;)if(!t(e[a],n[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(l=Object.keys(e),s=l.length,s!==Object.keys(n).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[a]))return!1;for(a=s;a--!==0;){var o=l[a];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},Me=Pe(Be);const ve="__googleMapsScriptId";var J;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(J||(J={}));class W{constructor({apiKey:e,authReferrerPolicy:n,channel:s,client:a,id:l=ve,language:o,libraries:i=[],mapIds:u,nonce:d,region:p,retries:f=3,url:y="https://maps.googleapis.com/maps/api/js",version:S}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=n,this.channel=s,this.client=a,this.id=l||ve,this.language=o,this.libraries=i,this.mapIds=u,this.nonce=d,this.region=p,this.retries=f,this.url=y,this.version=S,W.instance){if(!Me(this.options,W.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(W.instance.options)}`);return W.instance}W.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?J.FAILURE:this.done?J.SUCCESS:this.loading?J.LOADING:J.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(s=>{s?n(s.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}const s={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(s).forEach(l=>!s[l]&&delete s[l]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(l=>{let o,i,u,d="The Google Maps JavaScript API",p="google",f="importLibrary",y="__ib__",S=document,g=window;g=g[p]||(g[p]={});const O=g.maps||(g.maps={}),C=new Set,B=new URLSearchParams,M=()=>o||(o=new Promise((_,v)=>De(this,void 0,void 0,function*(){var A;yield i=S.createElement("script"),i.id=this.id,B.set("libraries",[...C]+"");for(u in l)B.set(u.replace(/[A-Z]/g,x=>"_"+x[0].toLowerCase()),l[u]);B.set("callback",p+".maps."+y),i.src=this.url+"?"+B,O[y]=_,i.onerror=()=>o=v(Error(d+" could not load.")),i.nonce=this.nonce||((A=S.querySelector("script[nonce]"))===null||A===void 0?void 0:A.nonce)||"",S.head.append(i)})));O[f]?console.warn(d+" only loads once. Ignoring:",l):O[f]=(_,...v)=>C.add(_)&&M().then(()=>O[f](_,...v))})(s);const a=this.libraries.map(l=>this.importLibrary(l));a.length||a.push(this.importLibrary("core")),Promise.all(a).then(()=>this.callback(),l=>{const o=new ErrorEvent("error",{error:l});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const n=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${n} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const ge=$({__name:"GoogleMapLoader",setup(t){const e=de(),n=h(null);return re(async()=>{n.value=await new W({libraries:["places","marker"],apiKey:e.public.GOOGLE_MAPS_API_KEY}).load().then()}),(s,a)=>(r(),m("div",null,[b(n)?G(s.$slots,"default",{key:0,google:b(n)}):P("",!0)]))}}),xe=["for"],Ne={__name:"BaseLabel",props:{label:{type:String,default:""},forProp:{type:String,default:""}},setup(t){return(e,n)=>t.label?(r(),m("label",{key:0,for:t.forProp,class:"base-label"},T(t.label),9,xe)):P("",!0)}},pe=E(Ne,[["__scopeId","data-v-573a0070"]]),Ue={class:"validated-input"},qe={key:1,class:"error-message"},Fe=$({__name:"ValidatedInput",props:{label:{type:String,default:""},id:{type:String,default:""},validationRules:{type:Array,default:()=>[]}},setup(t,{expose:e}){const n=t,s=h(""),a=i=>{s.value=i},l=()=>{s.value=""};return e({validate:i=>{for(const u of n.validationRules){const d=u(i);if(d)return a(d),!1}return l(),!0},hasError:te(()=>!!s.value),errorMessage:ie(s)}),(i,u)=>{const d=pe;return r(),m("div",Ue,[t.label?(r(),q(d,{key:0,label:t.label,for:t.id},null,8,["label","for"])):P("",!0),I("div",{class:oe(["input-wrapper",{error:!!b(s)}])},[G(i.$slots,"default",{hasError:!!b(s),onValidationError:a,clearError:l},void 0,!0)],2),b(s)?(r(),m("div",qe,T(b(s)),1)):P("",!0)])}}}),ye=E(Fe,[["__scopeId","data-v-ed3f4e4b"]]),Ge=$({__name:"LocationInput",props:{modelValue:{type:String,default:""},id:{type:String,default:"location-input"},label:{type:String,default:""},restrictToSpecificAddresses:{type:Boolean,default:!1},validationRules:{type:Array,default:()=>[]}},emits:["update:modelValue","update:address","update:city","locationSelected","validationError","update:latLng"],setup(t,{expose:e,emit:n}){const s=n,a=h(),l=o=>{s("locationSelected",o)};return e({validate:o=>{var i;return(i=a.value)==null?void 0:i.validate(o)},hasError:te(()=>{var o;return(o=a.value)==null?void 0:o.hasError}),errorMessage:te(()=>{var o;return(o=a.value)==null?void 0:o.errorMessage})}),(o,i)=>{const u=Ce,d=ge,p=ye;return r(),q(p,{id:t.id,ref_key:"validatedInputRef",ref:a,label:t.label,"validation-rules":t.validationRules},{default:w(({hasError:f,onValidationError:y})=>[c(d,null,{default:w(({google:S})=>[c(u,{id:t.id,"model-value":t.modelValue,google:S,"restrict-to-specific-addresses":t.restrictToSpecificAddresses,"has-error":f,"onUpdate:modelValue":i[0]||(i[0]=g=>o.$emit("update:modelValue",g)),"onUpdate:address":i[1]||(i[1]=g=>o.$emit("update:address",g)),"onUpdate:city":i[2]||(i[2]=g=>o.$emit("update:city",g)),"onUpdate:latLng":i[3]||(i[3]=g=>o.$emit("update:latLng",g)),onLocationSelected:l,onValidationError:y},null,8,["id","model-value","google","restrict-to-specific-addresses","has-error","onValidationError"])]),_:2},1024)]),_:1},8,["id","label","validation-rules"])}}}),be=E(Ge,[["__scopeId","data-v-4703bffb"]]),je={},Ke={class:"base-tag text-s"};function We(t,e){return r(),m("div",Ke,[G(t.$slots,"default",{},void 0,!0)])}const Ie=E(je,[["render",We],["__scopeId","data-v-65da5038"]]);var F=(t=>(t.PRIVATE="Particulier",t.ORGANIZATION="Organisatie",t.GOVERNMENT="Overheid",t.UNKNOWN="Onbekend",t))(F||{}),D=(t=>(t.RESIDENTIAL="Woning",t.COMMERCIAL="Commercieel",t.INDUSTRIAL="Industrieel",t.OFFICE="Kantoor",t.PLOT="Terrein",t.OTHER="Anders",t))(D||{});const He=t=>{switch(t){case"COMERCIEEL":return"office";case"PRIVAAT":return"house";case"PUBLIEK":return"farm";default:return"other"}},Ze={class:"filter-tabs"},ze=$({__name:"FilterTabs",props:{modelValue:{}},emits:["update:modelValue","filterSelected"],setup(t,{emit:e}){const n=e,s=te(()=>Object.entries(D).map(([l,o])=>({value:l,label:o})));function a(l){n("update:modelValue",l),n("filterSelected",l)}return(l,o)=>(r(),m("div",Ze,[(r(!0),m(Y,null,ne(s.value,i=>(r(),q(Ie,{key:i.value,class:oe([["filter-tag",{active:l.modelValue===i.value}],"skewed"]),onClick:u=>a(i.value)},{default:w(()=>[U(T(i.label),1)]),_:2},1032,["class","onClick"]))),128))]))}}),Je=E(ze,[["__scopeId","data-v-7dc84b2d"]]),Ye={};function Qe(t,e){return r(),m("p",null,[G(t.$slots,"default",{},void 0,!0)])}const Le=E(Ye,[["render",Qe],["__scopeId","data-v-85a8b9c0"]]),Xe={class:"location-header"},et={class:"flex-column"},tt={class:"location-tags flex-row"},ot=$({__name:"LocationListItem",props:{location:{}},emits:["locationSelected"],setup(t,{emit:e}){const n=i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase(),{$relativeTime:s}=ue(),a=t,l=e,o=()=>{l("locationSelected",a.location.latLng)};return(i,u)=>{const d=le,p=Le,f=Ie;return r(),m("div",{class:"location-list-item",onClick:o},[I("div",Xe,[c(d,{class:"icon-l secondary",icon:b(He)(i.location.type.toString())},null,8,["icon"]),I("div",et,[c(p,{class:"text-primary bold"},{default:w(()=>[U(T(i.location.address),1)]),_:1}),c(p,{class:"text-grey text-s"},{default:w(()=>[U(T(i.location.city),1)]),_:1})])]),I("div",tt,[c(p,{class:"text-black text-s flex-row icon-text"},{default:w(()=>[c(d,{icon:"calendar",class:"secondary icon-xs"}),U(" "+T(b(s)(i.location.createdAt.toDate())),1)]),_:1}),c(f,null,{default:w(()=>[U(T(n(i.location.type)),1)]),_:1})])])}}}),Ee=E(ot,[["__scopeId","data-v-e3cc8c90"]]),nt={class:"location-list"},at=$({__name:"LocationList",props:{locations:{}},emits:["locationSelected"],setup(t,{emit:e}){const n=e,s=a=>{n("locationSelected",a)};return(a,l)=>{const o=Ee;return r(),m("div",nt,[(r(!0),m(Y,null,ne(a.locations,i=>(r(),q(o,{key:i.latLng.latitude+","+i.latLng.longitude,location:i,onLocationSelected:s},null,8,["location"]))),128))])}}}),st=E(at,[["__scopeId","data-v-c5ffc6c6"]]),lt=$({__name:"BaseButton",props:{icon:{}},setup(t){return(e,n)=>{const s=le;return r(),m("button",{class:oe(["button",{icon:e.icon}])},[e.icon?(r(),q(s,{key:0,icon:e.icon,class:"button-icon"},null,8,["icon"])):P("",!0),G(e.$slots,"default",{},void 0,!0)],2)}}}),_e=E(lt,[["__scopeId","data-v-241a404a"]]),it=["src"],rt=$({__name:"BaseImage",props:{image:{}},setup(t){return(e,n)=>(r(),m("img",{class:"base-image",src:e.image},null,8,it))}}),ct=$({__name:"LocationCard",props:{location:{}},emits:["locationSelected"],setup(t,{emit:e}){const n=t,s=e,a=()=>{s("locationSelected",n.location.latLng)},l=`https://maps.googleapis.com/maps/api/streetview?size=600x400&key=AIzaSyDx3x7OILDe1wWmng_pllwoxrH2mlqekCI&location=${n.location.latLng.latitude},${n.location.latLng.longitude}`;return(o,i)=>{const u=rt,d=Ee;return r(),m("div",{class:"location-card",onClick:a},[c(u,{image:l,alt:"Location Street View",class:"location-image"}),c(d,{location:o.location},null,8,["location"])])}}}),dt=E(ct,[["__scopeId","data-v-7b285848"]]),ut={class:"location-slider"},pt=$({__name:"LocationSlider",props:{locations:{}},emits:["locationSelected"],setup(t,{emit:e}){const n=e,s=a=>{n("locationSelected",a)};return(a,l)=>{const o=dt;return r(),m("div",ut,[(r(!0),m(Y,null,ne(a.locations,i=>(r(),q(o,{key:i.latLng.latitude+","+i.latLng.longitude,location:i,onLocationSelected:s},null,8,["location"]))),128))])}}}),_t=E(pt,[["__scopeId","data-v-cbfd25db"]]),mt={class:"base-select-wrapper"},ft=["id","multiple","disabled","required","name","autocomplete","value"],vt={key:0,value:"",disabled:"",selected:"",hidden:""},ht=["value"],gt={__name:"BaseSelect",props:{modelValue:{type:[String,Number,Array],default:""},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},disabled:Boolean,required:Boolean,name:{type:String,default:""},id:{type:String,default:""},class:{type:String,default:""},autocomplete:{type:String,default:""},label:{type:String,default:""}},emits:["update:modelValue"],setup(t){return(e,n)=>{const s=pe;return r(),m("div",mt,[t.label?(r(),q(s,{key:0,label:t.label,for:t.id},null,8,["label","for"])):P("",!0),I("select",he(e.$attrs,{id:t.id,class:"base-select",multiple:t.multiple,disabled:t.disabled,required:t.required,name:t.name,autocomplete:t.autocomplete,value:t.modelValue,onChange:n[0]||(n[0]=a=>e.$emit("update:modelValue",t.multiple?[...a.target.selectedOptions].map(l=>l.value):a.target.value))}),[t.placeholder?(r(),m("option",vt,T(t.placeholder),1)):P("",!0),(r(!0),m(Y,null,ne(t.options,(a,l)=>(r(),m("option",{key:l,value:a.value},T(a.label),9,ht))),128))],16,ft)])}}},yt=E(gt,[["__scopeId","data-v-89eaeac7"]]),bt=["id","value","name","required","disabled","min","max"],It={__name:"BaseDatePicker",props:{modelValue:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},class:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{type:String,default:"1900-01-01"},max:{type:String,default:""},label:{type:String,default:""}},emits:["update:modelValue"],setup(t){return(e,n)=>{const s=pe;return r(),m("div",{class:oe(["base-date-picker-wrapper",e.$attrs.class])},[t.label?(r(),q(s,{key:0,label:t.label,for:t.id},null,8,["label","for"])):P("",!0),I("input",he(e.$attrs,{id:t.id,class:"base-date-picker",type:"date",value:t.modelValue,name:t.name,required:t.required,disabled:t.disabled,min:t.min,max:t.max,onInput:n[0]||(n[0]=a=>e.$emit("update:modelValue",a.target.value))}),null,16,bt)],2)}}},Lt=E(It,[["__scopeId","data-v-0ed4e279"]]),ee={required:(t="Dit veld")=>e=>!e||typeof e=="string"&&e.trim()===""?`${t} is verplicht`:null,minLength:(t,e="Dit veld")=>n=>n&&n.length<t?`${e} moet minimaal ${t} karakters bevatten`:null,maxLength:(t,e="Dit veld")=>n=>n&&n.length>t?`${e} mag maximaal ${t} karakters bevatten`:null,email:(t="E-mailadres")=>e=>e&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?`${t} is niet geldig`:null,dateNotInFuture:(t="Datum")=>e=>e&&new Date(e)>new Date?`${t} kan niet in de toekomst liggen`:null,dateRequired:(t="Datum")=>e=>e?null:`${t} is verplicht`,selectRequired:(t="Selectie")=>e=>!e||e===""?`${t} is verplicht`:null},Et=()=>{const{$api:t}=ue(),e=h(!1),n=h(null),s=async l=>{e.value=!0,n.value=null;try{return await t.location.addLocation(l)}catch(o){return n.value=o instanceof Error?o.message:"An unknown error occurred",console.error("Error adding location:",o),null}finally{e.value=!1}},a=()=>{n.value=null};return{addLocation:s,isLoading:ie(e),error:ie(n),clearError:a}},$t={class:"location-create"},St={class:"location-create-form"},wt={class:"row"},kt={key:0,class:"error-message mt-0-5"},Ot=$({__name:"LocationCreate",emits:["close"],setup(t,{emit:e}){const n=e,{addLocation:s,isLoading:a,error:l,clearError:o}=Et(),i=h(),u=h(),d=h(),p=h(),f=h(""),y=h(""),S=h(new ce(0,0)),g=h(""),O=h(""),C=h(""),B=[ee.required("Adres")],M=[ee.dateRequired("Datum van leegstand"),ee.dateNotInFuture("Datum van leegstand")],_=[ee.selectRequired("Type")],v=[ee.selectRequired("Ownership")],A=h([{value:F.PRIVATE,label:F.PRIVATE},{value:F.ORGANIZATION,label:F.ORGANIZATION},{value:F.GOVERNMENT,label:F.GOVERNMENT},{value:F.UNKNOWN,label:F.UNKNOWN}]),x=h([{value:D.RESIDENTIAL,label:D.RESIDENTIAL},{value:D.COMMERCIAL,label:D.COMMERCIAL},{value:D.INDUSTRIAL,label:D.INDUSTRIAL},{value:D.OFFICE,label:D.OFFICE},{value:D.PLOT,label:D.PLOT},{value:D.OTHER,label:D.OTHER}]),N=()=>{var R;(R=i.value)==null||R.validate(f.value)},H=()=>{var R;(R=u.value)==null||R.validate(g.value)},j=()=>{var R;(R=d.value)==null||R.validate(O.value)},Z=()=>{var R;(R=p.value)==null||R.validate(C.value)},ae=async()=>{var V,X,K,fe;const R=(V=i.value)==null?void 0:V.validate(f.value),L=(X=u.value)==null?void 0:X.validate(g.value),z=(K=d.value)==null?void 0:K.validate(O.value),Q=(fe=p.value)==null?void 0:fe.validate(C.value);if(!R||!L||!z||!Q)return;const se={address:f.value,city:y.value,type:O.value,ownership:C.value,vacatedSince:new Date(g.value),latLng:S.value};await s(se)?n("close"):l.value&&console.error("Error adding location:",l.value)};return(R,L)=>{const z=be,Q=ye,se=yt,me=_e;return r(),m("div",$t,[I("div",St,[c(z,{id:"location-create-input",ref_key:"addressInput",ref:i,modelValue:f.value,"onUpdate:modelValue":[L[0]||(L[0]=V=>f.value=V),N],address:f.value,"onUpdate:address":L[1]||(L[1]=V=>f.value=V),city:y.value,"onUpdate:city":L[2]||(L[2]=V=>y.value=V),latLng:S.value,"onUpdate:latLng":L[3]||(L[3]=V=>S.value=V),label:"Address","restrict-to-specific-addresses":!0,"validation-rules":B},null,8,["modelValue","address","city","latLng"]),c(Q,{id:"date-input",ref_key:"dateInput",ref:u,label:"Datum van leegstand","validation-rules":M},{default:w(({hasError:V,onValidationError:X})=>[c(Lt,{modelValue:g.value,"onUpdate:modelValue":[L[4]||(L[4]=K=>g.value=K),H]},null,8,["modelValue"])]),_:1},512),I("div",wt,[c(Q,{id:"type-input",ref_key:"typeInput",ref:d,label:"Type","validation-rules":_},{default:w(({hasError:V,onValidationError:X})=>[c(se,{modelValue:O.value,"onUpdate:modelValue":[L[5]||(L[5]=K=>O.value=K),j],options:x.value},null,8,["modelValue","options"])]),_:1},512),c(Q,{id:"ownership-input",ref_key:"ownershipInput",ref:p,label:"Ownership","validation-rules":v},{default:w(({hasError:V,onValidationError:X})=>[c(se,{modelValue:C.value,"onUpdate:modelValue":[L[6]||(L[6]=K=>C.value=K),Z],options:A.value},null,8,["modelValue","options"])]),_:1},512)]),c(me,{class:"submit primary-inverted mt-1-5",disabled:b(a),onClick:ae},{default:w(()=>[U(T(b(a)?"Bezig met melden...":"Melden"),1)]),_:1},8,["disabled"]),b(l)?(r(),m("div",kt,[U(T(b(l))+" ",1),I("button",{type:"button",class:"error-close",onClick:L[7]||(L[7]=(...V)=>b(o)&&b(o)(...V))},"Ã—")])):P("",!0)])])}}}),At=E(Ot,[["__scopeId","data-v-fa9d2918"]]),Rt={};function Vt(t,e){return r(),m("h2",null,[G(t.$slots,"default",{},void 0,!0)])}const Tt=E(Rt,[["render",Vt],["__scopeId","data-v-e5659f20"]]),Ct={class:"overlay-wrapper"},Dt={class:"overlay"},Pt={class:"overlay-header"},Bt={class:"overlay-content"},Mt=$({__name:"Overlay",props:{title:{}},emits:["close"],setup(t,{emit:e}){const n=e,s=()=>{n("close")};return(a,l)=>{const o=Tt,i=_e;return r(),m("div",Ct,[I("div",Dt,[I("div",Pt,[c(o,{class:"text-xl"},{default:w(()=>[U(T(a.title),1)]),_:1}),c(i,{icon:"close",class:"icon-sm primary-inverted",onClick:s})]),I("div",Bt,[G(a.$slots,"default",{},void 0,!0)])])])}}}),xt=E(Mt,[["__scopeId","data-v-bd328522"]]),Nt={class:"location-info-window"},Ut=$({__name:"LocationInfoWindow",props:{location:{}},setup(t){return(e,n)=>{const s=Le;return r(),m("div",Nt,[c(s,null,{default:w(()=>[U(T(e.location.address),1)]),_:1}),c(s,null,{default:w(()=>[U("Latitude: "+T(e.location.latitude)+", Longitude: "+T(e.location.longitude),1)]),_:1})])}}}),qt=E(Ut,[["__scopeId","data-v-d5197f4e"]]),Ft={key:0},Gt=$({__name:"BaseMarker",props:{map:{},position:{},title:{}},setup(t){const e=t,n=h(null),a=de().app.baseURL||"/",l=document.createElement("img");l.src=`${a}icons/marker.svg`.replace("//","/"),l.style.width="30px",l.style.height="30px";const o=new google.maps.Marker({map:e.map,position:{lat:e.position.lat,lng:e.position.lng},icon:l.src}),i=new google.maps.InfoWindow({disableAutoPan:!0});return o.addListener("click",()=>{i.close(),n.value instanceof HTMLElement&&i.setContent(n.value),i.open(e.map,o)}),(u,d)=>u.map?(r(),m("div",Ft,[I("div",{ref_key:"infoWindowRef",ref:n},[G(u.$slots,"default")],512)])):P("",!0)}}),jt=$({__name:"BaseMap",props:{google:{},mapConfig:{},center:{}},setup(t){const e=t,n=h(null),s=h(null);return re(async()=>{try{s.value=new e.google.maps.Map(n.value,e.mapConfig)}catch(a){console.error("Error aloading map: ",a)}}),Se(()=>e.center,a=>{s.value&&s.value.panTo(a)},{deep:!0}),(a,l)=>(r(),m(Y,null,[I("div",{ref_key:"mapContainer",ref:n,class:"map"},null,512),b(s)?G(a.$slots,"default",{key:0,map:b(s)},void 0,!0):P("",!0)],64))}}),Kt=E(jt,[["__scopeId","data-v-16234358"]]),Wt={class:"full-width"},Ht=$({__name:"LocationMap",props:{locations:{},center:{}},setup(t){const e=t,n=de(),s={center:{lat:e.center.latitude,lng:e.center.longitude},mapId:n.public.GOOGLE_MAPS_MAP_ID,zoom:12,disableDefaultUI:!0};return(a,l)=>{const o=qt,i=Gt,u=Kt,d=ge;return r(),m("div",Wt,[c(d,null,{default:w(({google:p})=>[c(u,{google:p,"map-config":s,center:{lat:a.center.latitude,lng:a.center.longitude}},{default:w(({map:f})=>[(r(!0),m(Y,null,ne(a.locations,y=>(r(),q(i,{key:y.id,map:f,google:p,position:{lat:y.latLng.latitude,lng:y.latLng.longitude},title:y.address},{default:w(()=>[c(o,{location:y},null,8,["location"])]),_:2},1032,["map","google","position","title"]))),128))]),_:2},1032,["google","center"])]),_:1})])}}}),Zt={class:"index"},zt={class:"map-overlay"},Jt={class:"sidebar"},Yt={class:"flex-row"},Qt={class:"top-bar"},Xt={class:"info-buttons"},eo={class:"bottom-bar"},no=$({__name:"index",setup(t){var M;const e=we(),n=ke(),{$firestore:s}=ue();Oe({title:"Wasted Spaces",meta:[{name:"",content:""}]});const a=h([]),l=h([]),o=h(!1),i=h(new ce(51.9146308,4.4709485)),u=h(((M=n.query.filter)==null?void 0:M.toString().toUpperCase())||null),d=h(50),p=async()=>{try{a.value=await s.getLocations(),l.value=S(a.value),l.value=g(l.value,u.value)}catch(_){console.error("Error fetching locations:",_)}};function f(_,v,A,x){const H=y(A-_),j=y(x-v),Z=Math.sin(H/2)*Math.sin(H/2)+Math.cos(y(_))*Math.cos(y(A))*Math.sin(j/2)*Math.sin(j/2);return 6371*(2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z)))}function y(_){return _*(Math.PI/180)}const S=_=>_.map(v=>({...v,distance:f(i.value.latitude,i.value.longitude,v.latLng.latitude,v.latLng.longitude)})).filter(v=>v.distance<=d.value).sort((v,A)=>v.distance-A.distance),g=(_,v)=>v?_.filter(A=>A.type===v):_,O=_=>{i.value=_},C=_=>{i.value=_,l.value=S(a.value)},B=_=>{u.value=_,e.push({query:{...n.query,filter:(_==null?void 0:_.toString().toLowerCase())||void 0}}),l.value=S(a.value),l.value=g(l.value,_)};return p(),(_,v)=>{const A=le,x=be,N=Je,H=st,j=_e,Z=_t,ae=At,R=xt,L=Ht;return r(),m("div",Zt,[I("div",zt,[I("div",Jt,[I("div",Yt,[c(A,{class:"logo icon-lxl",icon:"logo_standalone_red"}),c(A,{class:"logo",icon:"logo_text_long"})]),c(x,{id:"sidebar-input",class:"mt-1-0",onLocationSelected:C}),c(N,{class:"mt-1-0","model-value":"currentFilter",onFilterSelected:B}),c(H,{locations:b(l),class:"mt-1-0",onLocationSelected:O},null,8,["locations"])]),I("div",Qt,[c(x,{id:"topbar-input",onLocationSelected:C})]),I("div",Xt,[I("div",null,[c(j,{class:"primary-inverted",icon:"documents"}),c(j,{class:"primary-inverted mt-0-5",icon:"info"})]),c(j,{class:"primary-inverted",icon:"add",onClick:v[0]||(v[0]=z=>o.value=!0)})]),I("div",eo,[c(Z,{locations:b(l),onLocationSelected:O},null,8,["locations"])])]),b(o)?(r(),q(R,{key:0,title:"MELD LEEGSTAND",onClose:v[2]||(v[2]=z=>o.value=!1)},{default:w(()=>[c(ae,{onClose:v[1]||(v[1]=z=>o.value=!1)})]),_:1})):P("",!0),c(L,{class:"map",locations:b(l),center:b(i)},null,8,["locations","center"])])}}});export{no as default};
