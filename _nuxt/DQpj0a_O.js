import{d as $,C as O,D as $e,E as b,t as r,v as m,F as D,_ as L,r as h,c as te,o as de,G as ue,z as c,x as I,H as oe,I as G,l as ie,y as T,J as ce,K as q,A as w,L as Y,M as ne,B as U,m as pe,N as he,O as Se,u as we,P as Oe}from"./csWy4oo3.js";import{u as ke}from"./BoKsU3W6.js";const Ae=["innerHTML"],Re=$({__name:"BaseIcon",props:{icon:{}},async setup(t){let e,n;const a=t,s=Object.fromEntries(Object.entries(Object.assign({"/assets/icons/add.svg":()=>O(()=>import("./BiKgAjhi.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/calendar.svg":()=>O(()=>import("./DrqZ3LR8.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/close.svg":()=>O(()=>import("./TfD_I-fS.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/documents.svg":()=>O(()=>import("./DOO1Ge5l.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/farm.svg":()=>O(()=>import("./0PHxwUTU.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/house.svg":()=>O(()=>import("./BtkviBJP.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/industry.svg":()=>O(()=>import("./BKUyxpaI.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/info.svg":()=>O(()=>import("./CZ-SqL3D.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/logo_standalone.svg":()=>O(()=>import("./B3A4rG9H.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/logo_standalone_red.svg":()=>O(()=>import("./CaUd5saq.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/logo_text.svg":()=>O(()=>import("./DF4MJzAr.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/logo_text_long.svg":()=>O(()=>import("./BUFqeKC3.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/logo_white.svg":()=>O(()=>import("./_bgolDXl.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/office.svg":()=>O(()=>import("./DRdKqeIu.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/other.svg":()=>O(()=>import("./BGeYsIfF.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/search.svg":()=>O(()=>import("./CF8Xzspr.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/shop.svg":()=>O(()=>import("./ClPQWvmX.js"),[],import.meta.url).then(o=>o.default)})).map(([o,l])=>[o.split("/").pop().split(".").shift(),l])),i=a.icon&&([e,n]=$e(()=>{var o;return(o=s==null?void 0:s[a.icon])==null?void 0:o.call(s)}),e=await e,n(),e);return(o,l)=>b(i)?(r(),m("div",{key:0,class:"base-icon",innerHTML:b(i)},null,8,Ae)):D("",!0)}}),re=L(Re,[["__scopeId","data-v-70594cde"]]),Ve=["id","value"],Te=$({__name:"BaseLocationInput",props:{modelValue:{type:String,default:""},google:{type:Object,required:!0},id:{type:String,default:"geocode"},restrictToSpecificAddresses:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1}},emits:["update:modelValue","update:address","update:city","locationSelected","validationError","update:latLng"],setup(t,{emit:e}){const n=t,a=e,s=h(null),i=te(()=>({types:n.restrictToSpecificAddresses?["address"]:["geocode"],fields:["formatted_address","geometry","name","address_components"]}));de(()=>{o()});function o(){var p;const l=document.getElementById(n.id);s.value=new n.google.maps.places.Autocomplete(l,i.value),(p=s.value)==null||p.addListener("place_changed",()=>{var u,f,y,S,g;const d=(u=s.value)==null?void 0:u.getPlace();if(d){if(n.restrictToSpecificAddresses&&!((f=d.address_components)==null?void 0:f.some(M=>M.types.includes("street_number")))){a("update:modelValue",""),a("validationError","Selecteer een specifiek adres met huisnummer");return}const k=(y=d.geometry)==null?void 0:y.location.lat(),C=(S=d.geometry)==null?void 0:S.location.lng();if(k&&C){const B=new ue(k,C);let M="",_="",v="";(g=d.address_components)==null||g.forEach(x=>{x.types.includes("route")&&(M=x.long_name),x.types.includes("street_number")&&(_=x.long_name),(x.types.includes("locality")||x.types.includes("administrative_area_level_2"))&&(v=x.long_name)});const N={address:_?`${M} ${_}`:M,city:v,latLng:B};a("locationSelected",B),a("update:address",N.address),a("update:city",N.city),a("update:latLng",N.latLng),a("validationError","")}}})}return(l,p)=>{const d=re;return r(),m("div",{class:oe(["base-location-input",{error:t.hasError}])},[c(d,{class:"icon-sxs secondary",icon:"search"}),I("input",{id:t.id,class:"input",value:t.modelValue,type:"text",placeholder:"Zoek op locatie",onInput:p[0]||(p[0]=u=>l.$emit("update:modelValue",u.target.value))},null,40,Ve)],2)}}}),Ce=L(Te,[["__scopeId","data-v-eb5e1356"]]);function Pe(t,e,n,a){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(f){o(f)}}function p(u){try{d(a.throw(u))}catch(f){o(f)}}function d(u){u.done?i(u.value):s(u.value).then(l,p)}d((a=a.apply(t,[])).next())})}function De(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Be=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var a,s,i;if(Array.isArray(e)){if(a=e.length,a!=n.length)return!1;for(s=a;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),a=i.length,a!==Object.keys(n).length)return!1;for(s=a;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=a;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},Me=De(Be);const ve="__googleMapsScriptId";var J;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(J||(J={}));class W{constructor({apiKey:e,authReferrerPolicy:n,channel:a,client:s,id:i=ve,language:o,libraries:l=[],mapIds:p,nonce:d,region:u,retries:f=3,url:y="https://maps.googleapis.com/maps/api/js",version:S}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=n,this.channel=a,this.client=s,this.id=i||ve,this.language=o,this.libraries=l,this.mapIds=p,this.nonce=d,this.region=u,this.retries=f,this.url=y,this.version=S,W.instance){if(!Me(this.options,W.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(W.instance.options)}`);return W.instance}W.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?J.FAILURE:this.done?J.SUCCESS:this.loading?J.LOADING:J.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(a=>{a?n(a.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}const a={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(a).forEach(i=>!a[i]&&delete a[i]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(i=>{let o,l,p,d="The Google Maps JavaScript API",u="google",f="importLibrary",y="__ib__",S=document,g=window;g=g[u]||(g[u]={});const k=g.maps||(g.maps={}),C=new Set,B=new URLSearchParams,M=()=>o||(o=new Promise((_,v)=>Pe(this,void 0,void 0,function*(){var A;yield l=S.createElement("script"),l.id=this.id,B.set("libraries",[...C]+"");for(p in i)B.set(p.replace(/[A-Z]/g,N=>"_"+N[0].toLowerCase()),i[p]);B.set("callback",u+".maps."+y),l.src=this.url+"?"+B,k[y]=_,l.onerror=()=>o=v(Error(d+" could not load.")),l.nonce=this.nonce||((A=S.querySelector("script[nonce]"))===null||A===void 0?void 0:A.nonce)||"",S.head.append(l)})));k[f]?console.warn(d+" only loads once. Ignoring:",i):k[f]=(_,...v)=>C.add(_)&&M().then(()=>k[f](_,...v))})(a);const s=this.libraries.map(i=>this.importLibrary(i));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),i=>{const o=new ErrorEvent("error",{error:i});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const n=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${n} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const ge=$({__name:"GoogleMapLoader",setup(t){const e=ie(),n=h(null);return de(async()=>{n.value=await new W({libraries:["places","marker"],apiKey:e.public.GOOGLE_MAPS_API_KEY}).load().then()}),(a,s)=>(r(),m("div",null,[b(n)?G(a.$slots,"default",{key:0,google:b(n)}):D("",!0)]))}}),Ne=["for"],xe={__name:"BaseLabel",props:{label:{type:String,default:""},forProp:{type:String,default:""}},setup(t){return(e,n)=>t.label?(r(),m("label",{key:0,for:t.forProp,class:"base-label"},T(t.label),9,Ne)):D("",!0)}},_e=L(xe,[["__scopeId","data-v-573a0070"]]),Ue={class:"validated-input"},qe={key:1,class:"error-message"},Fe=$({__name:"ValidatedInput",props:{label:{type:String,default:""},id:{type:String,default:""},validationRules:{type:Array,default:()=>[]}},setup(t,{expose:e}){const n=t,a=h(""),s=l=>{a.value=l},i=()=>{a.value=""};return e({validate:l=>{for(const p of n.validationRules){const d=p(l);if(d)return s(d),!1}return i(),!0},hasError:te(()=>!!a.value),errorMessage:ce(a)}),(l,p)=>{const d=_e;return r(),m("div",Ue,[t.label?(r(),q(d,{key:0,label:t.label,for:t.id},null,8,["label","for"])):D("",!0),I("div",{class:oe(["input-wrapper",{error:!!b(a)}])},[G(l.$slots,"default",{hasError:!!b(a),onValidationError:s,clearError:i},void 0,!0)],2),b(a)?(r(),m("div",qe,T(b(a)),1)):D("",!0)])}}}),ye=L(Fe,[["__scopeId","data-v-ed3f4e4b"]]),Ge=$({__name:"LocationInput",props:{modelValue:{type:String,default:""},id:{type:String,default:"location-input"},label:{type:String,default:""},restrictToSpecificAddresses:{type:Boolean,default:!1},validationRules:{type:Array,default:()=>[]}},emits:["update:modelValue","update:address","update:city","locationSelected","validationError","update:latLng"],setup(t,{expose:e,emit:n}){const a=n,s=h(),i=o=>{a("locationSelected",o)};return e({validate:o=>{var l;return(l=s.value)==null?void 0:l.validate(o)},hasError:te(()=>{var o;return(o=s.value)==null?void 0:o.hasError}),errorMessage:te(()=>{var o;return(o=s.value)==null?void 0:o.errorMessage})}),(o,l)=>{const p=Ce,d=ge,u=ye;return r(),q(u,{id:t.id,ref_key:"validatedInputRef",ref:s,label:t.label,"validation-rules":t.validationRules},{default:w(({hasError:f,onValidationError:y})=>[c(d,null,{default:w(({google:S})=>[c(p,{id:t.id,"model-value":t.modelValue,google:S,"restrict-to-specific-addresses":t.restrictToSpecificAddresses,"has-error":f,"onUpdate:modelValue":l[0]||(l[0]=g=>o.$emit("update:modelValue",g)),"onUpdate:address":l[1]||(l[1]=g=>o.$emit("update:address",g)),"onUpdate:city":l[2]||(l[2]=g=>o.$emit("update:city",g)),"onUpdate:latLng":l[3]||(l[3]=g=>o.$emit("update:latLng",g)),onLocationSelected:i,onValidationError:y},null,8,["id","model-value","google","restrict-to-specific-addresses","has-error","onValidationError"])]),_:2},1024)]),_:1},8,["id","label","validation-rules"])}}}),be=L(Ge,[["__scopeId","data-v-4703bffb"]]),je={},Ke={class:"base-tag text-s"};function We(t,e){return r(),m("div",Ke,[G(t.$slots,"default",{},void 0,!0)])}const Ie=L(je,[["render",We],["__scopeId","data-v-65da5038"]]);var F=(t=>(t.PRIVATE="Particulier",t.ORGANIZATION="Organisatie",t.GOVERNMENT="Overheid",t.UNKNOWN="Onbekend",t))(F||{}),P=(t=>(t.RESIDENTIAL="Woning",t.COMMERCIAL="Commercieel",t.INDUSTRIAL="Industrieel",t.OFFICE="Kantoor",t.PLOT="Terrein",t.OTHER="Anders",t))(P||{});const He=t=>{switch(t){case"COMERCIEEL":return"office";case"PRIVAAT":return"house";case"PUBLIEK":return"farm";default:return"other"}},Ze={class:"filter-tabs"},ze=$({__name:"FilterTabs",props:{modelValue:{}},emits:["update:modelValue","filterSelected"],setup(t,{emit:e}){const n=e,a=te(()=>Object.entries(P).map(([i,o])=>({value:i,label:o})));function s(i){n("update:modelValue",i),n("filterSelected",i)}return(i,o)=>(r(),m("div",Ze,[(r(!0),m(Y,null,ne(a.value,l=>(r(),q(Ie,{key:l.value,class:oe([["filter-tag",{active:i.modelValue===l.value}],"skewed"]),onClick:p=>s(l.value)},{default:w(()=>[U(T(l.label),1)]),_:2},1032,["class","onClick"]))),128))]))}}),Je=L(ze,[["__scopeId","data-v-7dc84b2d"]]),Ye={};function Qe(t,e){return r(),m("p",null,[G(t.$slots,"default",{},void 0,!0)])}const Ee=L(Ye,[["render",Qe],["__scopeId","data-v-85a8b9c0"]]),Xe={class:"location-header"},et={class:"flex-column"},tt={class:"location-tags flex-row"},ot=$({__name:"LocationListItem",props:{location:{}},emits:["locationSelected"],setup(t,{emit:e}){const n=l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase(),{$relativeTime:a}=pe(),s=t,i=e,o=()=>{i("locationSelected",s.location.latLng)};return(l,p)=>{const d=re,u=Ee,f=Ie;return r(),m("div",{class:"location-list-item",onClick:o},[I("div",Xe,[c(d,{class:"icon-l secondary",icon:b(He)(l.location.type.toString())},null,8,["icon"]),I("div",et,[c(u,{class:"text-primary bold"},{default:w(()=>[U(T(l.location.address),1)]),_:1}),c(u,{class:"text-grey text-s"},{default:w(()=>[U(T(l.location.city),1)]),_:1})])]),I("div",tt,[c(u,{class:"text-black text-s flex-row icon-text"},{default:w(()=>[c(d,{icon:"calendar",class:"secondary icon-xs"}),U(" "+T(b(a)(l.location.createdAt.toDate())),1)]),_:1}),c(f,null,{default:w(()=>[U(T(n(l.location.type)),1)]),_:1})])])}}}),Le=L(ot,[["__scopeId","data-v-e3cc8c90"]]),nt={class:"location-list"},at=$({__name:"LocationList",props:{locations:{}},emits:["locationSelected"],setup(t,{emit:e}){const n=e,a=s=>{n("locationSelected",s)};return(s,i)=>{const o=Le;return r(),m("div",nt,[(r(!0),m(Y,null,ne(s.locations,l=>(r(),q(o,{key:l.latLng.latitude+","+l.latLng.longitude,location:l,onLocationSelected:a},null,8,["location"]))),128))])}}}),st=L(at,[["__scopeId","data-v-c5ffc6c6"]]),lt=$({__name:"BaseButton",props:{icon:{}},setup(t){return(e,n)=>{const a=re;return r(),m("button",{class:oe(["button",{icon:e.icon}])},[e.icon?(r(),q(a,{key:0,icon:e.icon,class:"button-icon"},null,8,["icon"])):D("",!0),G(e.$slots,"default",{},void 0,!0)],2)}}}),me=L(lt,[["__scopeId","data-v-241a404a"]]),it=["src"],rt=$({__name:"BaseImage",props:{image:{}},setup(t){return(e,n)=>(r(),m("img",{class:"base-image",src:e.image},null,8,it))}}),ct=$({__name:"LocationCard",props:{location:{}},emits:["locationSelected"],setup(t,{emit:e}){const n=ie(),a=t,s=e,i=()=>{s("locationSelected",a.location.latLng)},o=`https://maps.googleapis.com/maps/api/streetview?size=600x400&key=${n.public.GOOGLE_MAPS_API_KEY}&location=${a.location.latLng.latitude},${a.location.latLng.longitude}`;return(l,p)=>{const d=rt,u=Le;return r(),m("div",{class:"location-card",onClick:i},[c(d,{image:o,alt:"Location Street View",class:"location-image"}),c(u,{location:l.location},null,8,["location"])])}}}),dt=L(ct,[["__scopeId","data-v-c30e5890"]]),ut={class:"location-slider"},pt=$({__name:"LocationSlider",props:{locations:{}},emits:["locationSelected"],setup(t,{emit:e}){const n=e,a=s=>{n("locationSelected",s)};return(s,i)=>{const o=dt;return r(),m("div",ut,[(r(!0),m(Y,null,ne(s.locations,l=>(r(),q(o,{key:l.latLng.latitude+","+l.latLng.longitude,location:l,onLocationSelected:a},null,8,["location"]))),128))])}}}),_t=L(pt,[["__scopeId","data-v-cbfd25db"]]),mt={class:"base-select-wrapper"},ft=["id","multiple","disabled","required","name","autocomplete","value"],vt={key:0,value:"",disabled:"",selected:"",hidden:""},ht=["value"],gt={__name:"BaseSelect",props:{modelValue:{type:[String,Number,Array],default:""},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},disabled:Boolean,required:Boolean,name:{type:String,default:""},id:{type:String,default:""},class:{type:String,default:""},autocomplete:{type:String,default:""},label:{type:String,default:""}},emits:["update:modelValue"],setup(t){return(e,n)=>{const a=_e;return r(),m("div",mt,[t.label?(r(),q(a,{key:0,label:t.label,for:t.id},null,8,["label","for"])):D("",!0),I("select",he(e.$attrs,{id:t.id,class:"base-select",multiple:t.multiple,disabled:t.disabled,required:t.required,name:t.name,autocomplete:t.autocomplete,value:t.modelValue,onChange:n[0]||(n[0]=s=>e.$emit("update:modelValue",t.multiple?[...s.target.selectedOptions].map(i=>i.value):s.target.value))}),[t.placeholder?(r(),m("option",vt,T(t.placeholder),1)):D("",!0),(r(!0),m(Y,null,ne(t.options,(s,i)=>(r(),m("option",{key:i,value:s.value},T(s.label),9,ht))),128))],16,ft)])}}},yt=L(gt,[["__scopeId","data-v-89eaeac7"]]),bt=["id","value","name","required","disabled","min","max"],It={__name:"BaseDatePicker",props:{modelValue:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},class:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{type:String,default:"1900-01-01"},max:{type:String,default:""},label:{type:String,default:""}},emits:["update:modelValue"],setup(t){return(e,n)=>{const a=_e;return r(),m("div",{class:oe(["base-date-picker-wrapper",e.$attrs.class])},[t.label?(r(),q(a,{key:0,label:t.label,for:t.id},null,8,["label","for"])):D("",!0),I("input",he(e.$attrs,{id:t.id,class:"base-date-picker",type:"date",value:t.modelValue,name:t.name,required:t.required,disabled:t.disabled,min:t.min,max:t.max,onInput:n[0]||(n[0]=s=>e.$emit("update:modelValue",s.target.value))}),null,16,bt)],2)}}},Et=L(It,[["__scopeId","data-v-0ed4e279"]]),ee={required:(t="Dit veld")=>e=>!e||typeof e=="string"&&e.trim()===""?`${t} is verplicht`:null,minLength:(t,e="Dit veld")=>n=>n&&n.length<t?`${e} moet minimaal ${t} karakters bevatten`:null,maxLength:(t,e="Dit veld")=>n=>n&&n.length>t?`${e} mag maximaal ${t} karakters bevatten`:null,email:(t="E-mailadres")=>e=>e&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?`${t} is niet geldig`:null,dateNotInFuture:(t="Datum")=>e=>e&&new Date(e)>new Date?`${t} kan niet in de toekomst liggen`:null,dateRequired:(t="Datum")=>e=>e?null:`${t} is verplicht`,selectRequired:(t="Selectie")=>e=>!e||e===""?`${t} is verplicht`:null},Lt=()=>{const{$api:t}=pe(),e=h(!1),n=h(null),a=async i=>{e.value=!0,n.value=null;try{return await t.location.addLocation(i)}catch(o){return n.value=o instanceof Error?o.message:"An unknown error occurred",console.error("Error adding location:",o),null}finally{e.value=!1}},s=()=>{n.value=null};return{addLocation:a,isLoading:ce(e),error:ce(n),clearError:s}},$t={class:"location-create"},St={class:"location-create-form"},wt={class:"row"},Ot={key:0,class:"error-message mt-0-5"},kt=$({__name:"LocationCreate",emits:["close"],setup(t,{emit:e}){const n=e,{addLocation:a,isLoading:s,error:i,clearError:o}=Lt(),l=h(),p=h(),d=h(),u=h(),f=h(""),y=h(""),S=h(new ue(0,0)),g=h(""),k=h(""),C=h(""),B=[ee.required("Adres")],M=[ee.dateRequired("Datum van leegstand"),ee.dateNotInFuture("Datum van leegstand")],_=[ee.selectRequired("Type")],v=[ee.selectRequired("Ownership")],A=h([{value:F.PRIVATE,label:F.PRIVATE},{value:F.ORGANIZATION,label:F.ORGANIZATION},{value:F.GOVERNMENT,label:F.GOVERNMENT},{value:F.UNKNOWN,label:F.UNKNOWN}]),N=h([{value:P.RESIDENTIAL,label:P.RESIDENTIAL},{value:P.COMMERCIAL,label:P.COMMERCIAL},{value:P.INDUSTRIAL,label:P.INDUSTRIAL},{value:P.OFFICE,label:P.OFFICE},{value:P.PLOT,label:P.PLOT},{value:P.OTHER,label:P.OTHER}]),x=()=>{var R;(R=l.value)==null||R.validate(f.value)},H=()=>{var R;(R=p.value)==null||R.validate(g.value)},j=()=>{var R;(R=d.value)==null||R.validate(k.value)},Z=()=>{var R;(R=u.value)==null||R.validate(C.value)},ae=async()=>{var V,X,K,fe;const R=(V=l.value)==null?void 0:V.validate(f.value),E=(X=p.value)==null?void 0:X.validate(g.value),z=(K=d.value)==null?void 0:K.validate(k.value),Q=(fe=u.value)==null?void 0:fe.validate(C.value);if(!R||!E||!z||!Q)return;const se={address:f.value,city:y.value,type:k.value,ownership:C.value,vacatedSince:new Date(g.value),latLng:S.value},le=await a(se);console.log("result",le),le?n("close"):i.value&&console.error("Error adding location:",i.value)};return(R,E)=>{const z=be,Q=ye,se=yt,le=me;return r(),m("div",$t,[I("div",St,[c(z,{id:"location-create-input",ref_key:"addressInput",ref:l,modelValue:f.value,"onUpdate:modelValue":[E[0]||(E[0]=V=>f.value=V),x],address:f.value,"onUpdate:address":E[1]||(E[1]=V=>f.value=V),city:y.value,"onUpdate:city":E[2]||(E[2]=V=>y.value=V),latLng:S.value,"onUpdate:latLng":E[3]||(E[3]=V=>S.value=V),label:"Address","restrict-to-specific-addresses":!0,"validation-rules":B},null,8,["modelValue","address","city","latLng"]),c(Q,{id:"date-input",ref_key:"dateInput",ref:p,label:"Datum van leegstand","validation-rules":M},{default:w(({hasError:V,onValidationError:X})=>[c(Et,{modelValue:g.value,"onUpdate:modelValue":[E[4]||(E[4]=K=>g.value=K),H]},null,8,["modelValue"])]),_:1},512),I("div",wt,[c(Q,{id:"type-input",ref_key:"typeInput",ref:d,label:"Type","validation-rules":_},{default:w(({hasError:V,onValidationError:X})=>[c(se,{modelValue:k.value,"onUpdate:modelValue":[E[5]||(E[5]=K=>k.value=K),j],options:N.value},null,8,["modelValue","options"])]),_:1},512),c(Q,{id:"ownership-input",ref_key:"ownershipInput",ref:u,label:"Ownership","validation-rules":v},{default:w(({hasError:V,onValidationError:X})=>[c(se,{modelValue:C.value,"onUpdate:modelValue":[E[6]||(E[6]=K=>C.value=K),Z],options:A.value},null,8,["modelValue","options"])]),_:1},512)]),c(le,{class:"submit primary-inverted mt-1-5",disabled:b(s),onClick:ae},{default:w(()=>[U(T(b(s)?"Bezig met melden...":"Melden"),1)]),_:1},8,["disabled"]),b(i)?(r(),m("div",Ot,[U(T(b(i))+" ",1),I("button",{type:"button",class:"error-close",onClick:E[7]||(E[7]=(...V)=>b(o)&&b(o)(...V))},"Ã—")])):D("",!0)])])}}}),At=L(kt,[["__scopeId","data-v-51b11c5d"]]),Rt={};function Vt(t,e){return r(),m("h2",null,[G(t.$slots,"default",{},void 0,!0)])}const Tt=L(Rt,[["render",Vt],["__scopeId","data-v-e5659f20"]]),Ct={class:"overlay-wrapper"},Pt={class:"overlay"},Dt={class:"overlay-header"},Bt={class:"overlay-content"},Mt=$({__name:"Overlay",props:{title:{}},emits:["close"],setup(t,{emit:e}){const n=e,a=()=>{n("close")};return(s,i)=>{const o=Tt,l=me;return r(),m("div",Ct,[I("div",Pt,[I("div",Dt,[c(o,{class:"text-xl"},{default:w(()=>[U(T(s.title),1)]),_:1}),c(l,{icon:"close",class:"icon-sm primary-inverted",onClick:a})]),I("div",Bt,[G(s.$slots,"default",{},void 0,!0)])])])}}}),Nt=L(Mt,[["__scopeId","data-v-bd328522"]]),xt={class:"location-info-window"},Ut=$({__name:"LocationInfoWindow",props:{location:{}},setup(t){return(e,n)=>{const a=Ee;return r(),m("div",xt,[c(a,null,{default:w(()=>[U(T(e.location.address),1)]),_:1}),c(a,null,{default:w(()=>[U("Latitude: "+T(e.location.latitude)+", Longitude: "+T(e.location.longitude),1)]),_:1})])}}}),qt=L(Ut,[["__scopeId","data-v-d5197f4e"]]),Ft={key:0},Gt=$({__name:"BaseMarker",props:{map:{},position:{},title:{}},setup(t){const e=t,n=h(null),s=ie().app.baseURL||"/",i=document.createElement("img");i.src=`${s}icons/marker.svg`.replace("//","/"),i.style.width="30px",i.style.height="30px";const o=new google.maps.Marker({map:e.map,position:{lat:e.position.lat,lng:e.position.lng},icon:i.src}),l=new google.maps.InfoWindow({disableAutoPan:!0});return o.addListener("click",()=>{l.close(),n.value instanceof HTMLElement&&l.setContent(n.value),l.open(e.map,o)}),(p,d)=>p.map?(r(),m("div",Ft,[I("div",{ref_key:"infoWindowRef",ref:n},[G(p.$slots,"default")],512)])):D("",!0)}}),jt=$({__name:"BaseMap",props:{google:{},mapConfig:{},center:{}},setup(t){const e=t,n=h(null),a=h(null);return de(async()=>{try{a.value=new e.google.maps.Map(n.value,e.mapConfig)}catch(s){console.error("Error aloading map: ",s)}}),Se(()=>e.center,s=>{a.value&&a.value.panTo(s)},{deep:!0}),(s,i)=>(r(),m(Y,null,[I("div",{ref_key:"mapContainer",ref:n,class:"map"},null,512),b(a)?G(s.$slots,"default",{key:0,map:b(a)},void 0,!0):D("",!0)],64))}}),Kt=L(jt,[["__scopeId","data-v-16234358"]]),Wt={class:"full-width"},Ht=$({__name:"LocationMap",props:{locations:{},center:{}},setup(t){const e=t,n=ie(),a={center:{lat:e.center.latitude,lng:e.center.longitude},mapId:n.public.GOOGLE_MAPS_MAP_ID,zoom:12,disableDefaultUI:!0};return(s,i)=>{const o=qt,l=Gt,p=Kt,d=ge;return r(),m("div",Wt,[c(d,null,{default:w(({google:u})=>[c(p,{google:u,"map-config":a,center:{lat:s.center.latitude,lng:s.center.longitude}},{default:w(({map:f})=>[(r(!0),m(Y,null,ne(s.locations,y=>(r(),q(l,{key:y.id,map:f,google:u,position:{lat:y.latLng.latitude,lng:y.latLng.longitude},title:y.address},{default:w(()=>[c(o,{location:y},null,8,["location"])]),_:2},1032,["map","google","position","title"]))),128))]),_:2},1032,["google","center"])]),_:1})])}}}),Zt={class:"index"},zt={class:"map-overlay"},Jt={class:"sidebar"},Yt={class:"flex-row"},Qt={class:"top-bar"},Xt={class:"info-buttons"},eo={class:"bottom-bar"},no=$({__name:"index",setup(t){var M;const e=we(),n=Oe(),{$firestore:a}=pe();ke({title:"Wasted Spaces",meta:[{name:"",content:""}]});const s=h([]),i=h([]),o=h(!1),l=h(new ue(51.9146308,4.4709485)),p=h(((M=n.query.filter)==null?void 0:M.toString().toUpperCase())||null),d=h(50),u=async()=>{try{s.value=await a.getLocations(),i.value=S(s.value),i.value=g(i.value,p.value)}catch(_){console.error("Error fetching locations:",_)}};function f(_,v,A,N){const H=y(A-_),j=y(N-v),Z=Math.sin(H/2)*Math.sin(H/2)+Math.cos(y(_))*Math.cos(y(A))*Math.sin(j/2)*Math.sin(j/2);return 6371*(2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z)))}function y(_){return _*(Math.PI/180)}const S=_=>_.map(v=>({...v,distance:f(l.value.latitude,l.value.longitude,v.latLng.latitude,v.latLng.longitude)})).filter(v=>v.distance<=d.value).sort((v,A)=>v.distance-A.distance),g=(_,v)=>v?_.filter(A=>A.type===v):_,k=_=>{l.value=_},C=_=>{l.value=_,i.value=S(s.value)},B=_=>{p.value=_,e.push({query:{...n.query,filter:(_==null?void 0:_.toString().toLowerCase())||void 0}}),i.value=S(s.value),i.value=g(i.value,_)};return u(),(_,v)=>{const A=re,N=be,x=Je,H=st,j=me,Z=_t,ae=At,R=Nt,E=Ht;return r(),m("div",Zt,[I("div",zt,[I("div",Jt,[I("div",Yt,[c(A,{class:"logo icon-lxl",icon:"logo_standalone_red"}),c(A,{class:"logo",icon:"logo_text_long"})]),c(N,{id:"sidebar-input",class:"mt-1-0",onLocationSelected:C}),c(x,{class:"mt-1-0","model-value":"currentFilter",onFilterSelected:B}),c(H,{locations:b(i),class:"mt-1-0",onLocationSelected:k},null,8,["locations"])]),I("div",Qt,[c(N,{id:"topbar-input",onLocationSelected:C})]),I("div",Xt,[I("div",null,[c(j,{class:"primary-inverted",icon:"documents"}),c(j,{class:"primary-inverted mt-0-5",icon:"info"})]),c(j,{class:"primary-inverted",icon:"add",onClick:v[0]||(v[0]=z=>o.value=!0)})]),I("div",eo,[c(Z,{locations:b(i),onLocationSelected:k},null,8,["locations"])])]),b(o)?(r(),q(R,{key:0,title:"MELD LEEGSTAND",onClose:v[2]||(v[2]=z=>o.value=!1)},{default:w(()=>[c(ae,{onClose:v[1]||(v[1]=z=>o.value=!1)})]),_:1})):D("",!0),c(E,{class:"map",locations:b(i),center:b(l)},null,8,["locations","center"])])}}});export{no as default};
