import{d as $,C as A,D as Ae,E as b,t as r,v as m,F as x,_ as E,r as f,c as ee,o as fe,G as ve,z as c,x as I,H as te,I as j,l as re,y as B,J as _e,K as F,A as S,L as X,M as ae,B as q,m as he,N as ge,O as Re,u as Te,P as Ce}from"./DE7OOq0o.js";import{u as Be}from"./DUqGbC_m.js";const Pe=["innerHTML"],De=$({__name:"BaseIcon",props:{icon:{}},async setup(t){let e,o;const n=t,s=Object.fromEntries(Object.entries(Object.assign({"/assets/icons/add.svg":()=>A(()=>import("./BiKgAjhi.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/calendar.svg":()=>A(()=>import("./DrqZ3LR8.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/close.svg":()=>A(()=>import("./TfD_I-fS.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/documents.svg":()=>A(()=>import("./DOO1Ge5l.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/farm.svg":()=>A(()=>import("./0PHxwUTU.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/house.svg":()=>A(()=>import("./BtkviBJP.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/industry.svg":()=>A(()=>import("./BKUyxpaI.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/info.svg":()=>A(()=>import("./CZ-SqL3D.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/logo_standalone.svg":()=>A(()=>import("./B3A4rG9H.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/logo_standalone_red.svg":()=>A(()=>import("./CaUd5saq.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/logo_text.svg":()=>A(()=>import("./DF4MJzAr.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/logo_text_long.svg":()=>A(()=>import("./BUFqeKC3.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/logo_white.svg":()=>A(()=>import("./_bgolDXl.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/office.svg":()=>A(()=>import("./DRdKqeIu.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/other.svg":()=>A(()=>import("./BGeYsIfF.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/search.svg":()=>A(()=>import("./CF8Xzspr.js"),[],import.meta.url).then(a=>a.default),"/assets/icons/shop.svg":()=>A(()=>import("./ClPQWvmX.js"),[],import.meta.url).then(a=>a.default)})).map(([a,i])=>[a.split("/").pop().split(".").shift(),i])),l=n.icon&&([e,o]=Ae(()=>{var a;return(a=s==null?void 0:s[n.icon])==null?void 0:a.call(s)}),e=await e,o(),e);return(a,i)=>b(l)?(r(),m("div",{key:0,class:"base-icon",innerHTML:b(l)},null,8,Pe)):x("",!0)}}),ce=E(De,[["__scopeId","data-v-70594cde"]]),Me=["id","value"],Ne=$({__name:"BaseLocationInput",props:{modelValue:{type:String,default:""},google:{type:Object,required:!0},id:{type:String,default:"geocode"},restrictToSpecificAddresses:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1}},emits:["update:modelValue","update:address","update:city","locationSelected","validationError","update:latLng"],setup(t,{emit:e}){const o=t,n=e,s=f(null),l=ee(()=>({types:o.restrictToSpecificAddresses?["address"]:["geocode"],fields:["formatted_address","geometry","name","address_components"]}));fe(()=>{a()});function a(){var p;const i=document.getElementById(o.id);s.value=new o.google.maps.places.Autocomplete(i,l.value),(p=s.value)==null||p.addListener("place_changed",()=>{var d,g,v,V,y;const u=(d=s.value)==null?void 0:d.getPlace();if(u){if(o.restrictToSpecificAddresses&&!((g=u.address_components)==null?void 0:g.some(C=>C.types.includes("street_number")))){n("update:modelValue",""),n("validationError","Selecteer een specifiek adres met huisnummer");return}const R=(v=u.geometry)==null?void 0:v.location.lat(),P=(V=u.geometry)==null?void 0:V.location.lng();if(R&&P){const w=new ve(R,P);let C="",N="",_="";(y=u.address_components)==null||y.forEach(D=>{D.types.includes("route")&&(C=D.long_name),D.types.includes("street_number")&&(N=D.long_name),(D.types.includes("locality")||D.types.includes("administrative_area_level_2"))&&(_=D.long_name)});const k={address:N?`${C} ${N}`:C,city:_,latLng:w};n("locationSelected",w),n("update:address",k.address),n("update:city",k.city),n("update:latLng",k.latLng),n("validationError","")}}})}return(i,p)=>{const u=ce;return r(),m("div",{class:te(["base-location-input",{error:t.hasError}])},[c(u,{class:"icon-sxs secondary",icon:"search"}),I("input",{id:t.id,class:"input",value:t.modelValue,type:"text",placeholder:"Zoek op locatie",onInput:p[0]||(p[0]=d=>i.$emit("update:modelValue",d.target.value))},null,40,Me)],2)}}}),xe=E(Ne,[["__scopeId","data-v-eb5e1356"]]);function Ue(t,e,o,n){function s(l){return l instanceof o?l:new o(function(a){a(l)})}return new(o||(o=Promise))(function(l,a){function i(d){try{u(n.next(d))}catch(g){a(g)}}function p(d){try{u(n.throw(d))}catch(g){a(g)}}function u(d){d.done?l(d.value):s(d.value).then(i,p)}u((n=n.apply(t,[])).next())})}function qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fe=function t(e,o){if(e===o)return!0;if(e&&o&&typeof e=="object"&&typeof o=="object"){if(e.constructor!==o.constructor)return!1;var n,s,l;if(Array.isArray(e)){if(n=e.length,n!=o.length)return!1;for(s=n;s--!==0;)if(!t(e[s],o[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if(l=Object.keys(e),n=l.length,n!==Object.keys(o).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(o,l[s]))return!1;for(s=n;s--!==0;){var a=l[s];if(!t(e[a],o[a]))return!1}return!0}return e!==e&&o!==o},Ge=qe(Fe);const Le="__googleMapsScriptId";var Q;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Q||(Q={}));class H{constructor({apiKey:e,authReferrerPolicy:o,channel:n,client:s,id:l=Le,language:a,libraries:i=[],mapIds:p,nonce:u,region:d,retries:g=3,url:v="https://maps.googleapis.com/maps/api/js",version:V}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=o,this.channel=n,this.client=s,this.id=l||Le,this.language=a,this.libraries=i,this.mapIds=p,this.nonce=u,this.region=d,this.retries=g,this.url=v,this.version=V,H.instance){if(!Ge(this.options,H.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(H.instance.options)}`);return H.instance}H.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Q.FAILURE:this.done?Q.SUCCESS:this.loading?Q.LOADING:Q.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,o)=>{this.loadCallback(n=>{n?o(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,o;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(l=>!n[l]&&delete n[l]),!((o=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||o===void 0)&&o.importLibrary||(l=>{let a,i,p,u="The Google Maps JavaScript API",d="google",g="importLibrary",v="__ib__",V=document,y=window;y=y[d]||(y[d]={});const R=y.maps||(y.maps={}),P=new Set,w=new URLSearchParams,C=()=>a||(a=new Promise((N,_)=>Ue(this,void 0,void 0,function*(){var h;yield i=V.createElement("script"),i.id=this.id,w.set("libraries",[...P]+"");for(p in l)w.set(p.replace(/[A-Z]/g,k=>"_"+k[0].toLowerCase()),l[p]);w.set("callback",d+".maps."+v),i.src=this.url+"?"+w,R[v]=N,i.onerror=()=>a=_(Error(u+" could not load.")),i.nonce=this.nonce||((h=V.querySelector("script[nonce]"))===null||h===void 0?void 0:h.nonce)||"",V.head.append(i)})));R[g]?console.warn(u+" only loads once. Ignoring:",l):R[g]=(N,..._)=>P.add(N)&&C().then(()=>R[g](N,..._))})(n);const s=this.libraries.map(l=>this.importLibrary(l));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),l=>{const a=new ErrorEvent("error",{error:l});this.loadErrorCallback(a)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const o=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${o} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},o)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const $e=$({__name:"GoogleMapLoader",setup(t){const e=re(),o=f(null);return fe(async()=>{o.value=await new H({libraries:["places","marker"],apiKey:e.public.GOOGLE_MAPS_API_KEY}).load().then()}),(n,s)=>(r(),m("div",null,[b(o)?j(n.$slots,"default",{key:0,google:b(o)}):x("",!0)]))}}),je=["for"],Ke={__name:"BaseLabel",props:{label:{type:String,default:""},forProp:{type:String,default:""}},setup(t){return(e,o)=>t.label?(r(),m("label",{key:0,for:t.forProp,class:"base-label"},B(t.label),9,je)):x("",!0)}},ye=E(Ke,[["__scopeId","data-v-573a0070"]]),We={class:"validated-input"},He={key:1,class:"error-message"},Ze=$({__name:"ValidatedInput",props:{label:{type:String,default:""},id:{type:String,default:""},validationRules:{type:Array,default:()=>[]}},setup(t,{expose:e}){const o=t,n=f(""),s=i=>{n.value=i},l=()=>{n.value=""};return e({validate:i=>{for(const p of o.validationRules){const u=p(i);if(u)return s(u),!1}return l(),!0},hasError:ee(()=>!!n.value),errorMessage:_e(n)}),(i,p)=>{const u=ye;return r(),m("div",We,[t.label?(r(),F(u,{key:0,label:t.label,for:t.id},null,8,["label","for"])):x("",!0),I("div",{class:te(["input-wrapper",{error:!!b(n)}])},[j(i.$slots,"default",{hasError:!!b(n),onValidationError:s,clearError:l},void 0,!0)],2),b(n)?(r(),m("div",He,B(b(n)),1)):x("",!0)])}}}),Se=E(Ze,[["__scopeId","data-v-ed3f4e4b"]]),ze=$({__name:"LocationInput",props:{modelValue:{type:String,default:""},id:{type:String,default:"location-input"},label:{type:String,default:""},restrictToSpecificAddresses:{type:Boolean,default:!1},validationRules:{type:Array,default:()=>[]}},emits:["update:modelValue","update:address","update:city","locationSelected","validationError","update:latLng"],setup(t,{expose:e,emit:o}){const n=o,s=f(),l=a=>{n("locationSelected",a)};return e({validate:a=>{var i;return(i=s.value)==null?void 0:i.validate(a)},hasError:ee(()=>{var a;return(a=s.value)==null?void 0:a.hasError}),errorMessage:ee(()=>{var a;return(a=s.value)==null?void 0:a.errorMessage})}),(a,i)=>{const p=xe,u=$e,d=Se;return r(),F(d,{id:t.id,ref_key:"validatedInputRef",ref:s,label:t.label,"validation-rules":t.validationRules},{default:S(({hasError:g,onValidationError:v})=>[c(u,null,{default:S(({google:V})=>[c(p,{id:t.id,"model-value":t.modelValue,google:V,"restrict-to-specific-addresses":t.restrictToSpecificAddresses,"has-error":g,"onUpdate:modelValue":i[0]||(i[0]=y=>a.$emit("update:modelValue",y)),"onUpdate:address":i[1]||(i[1]=y=>a.$emit("update:address",y)),"onUpdate:city":i[2]||(i[2]=y=>a.$emit("update:city",y)),"onUpdate:latLng":i[3]||(i[3]=y=>a.$emit("update:latLng",y)),onLocationSelected:l,onValidationError:v},null,8,["id","model-value","google","restrict-to-specific-addresses","has-error","onValidationError"])]),_:2},1024)]),_:1},8,["id","label","validation-rules"])}}}),Ve=E(ze,[["__scopeId","data-v-4703bffb"]]),Je={},Ye={class:"base-tag text-s"};function Qe(t,e){return r(),m("div",Ye,[j(t.$slots,"default",{},void 0,!0)])}const we=E(Je,[["render",Qe],["__scopeId","data-v-65da5038"]]);var G=(t=>(t.PRIVATE="Particulier",t.ORGANIZATION="Organisatie",t.GOVERNMENT="Overheid",t.UNKNOWN="Onbekend",t))(G||{}),M=(t=>(t.RESIDENTIAL="Woning",t.COMMERCIAL="Commercieel",t.INDUSTRIAL="Industrieel",t.OFFICE="Kantoor",t.PLOT="Terrein",t.OTHER="Anders",t))(M||{});const Xe=t=>{switch(t){case"COMERCIEEL":return"office";case"PRIVAAT":return"house";case"PUBLIEK":return"farm";default:return"other"}},et={class:"filter-tabs"},tt=$({__name:"FilterTabs",props:{modelValue:{}},emits:["update:modelValue","filterSelected"],setup(t,{emit:e}){const o=e,n=ee(()=>Object.entries(M).map(([l,a])=>({value:l,label:a})));function s(l){o("update:modelValue",l),o("filterSelected",l)}return(l,a)=>(r(),m("div",et,[(r(!0),m(X,null,ae(n.value,i=>(r(),F(we,{key:i.value,class:te([["filter-tag",{active:l.modelValue===i.value}],"skewed"]),onClick:p=>s(i.value)},{default:S(()=>[q(B(i.label),1)]),_:2},1032,["class","onClick"]))),128))]))}}),at=E(tt,[["__scopeId","data-v-7dc84b2d"]]),ot={};function nt(t,e){return r(),m("p",null,[j(t.$slots,"default",{},void 0,!0)])}const ke=E(ot,[["render",nt],["__scopeId","data-v-85a8b9c0"]]),st={class:"location-header"},lt={class:"flex-column"},it={class:"location-tags flex-row"},rt=$({__name:"LocationListItem",props:{location:{}},emits:["locationSelected"],setup(t,{emit:e}){const o=i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase(),{$relativeTime:n}=he(),s=t,l=e,a=()=>{l("locationSelected",s.location.latLng)};return(i,p)=>{const u=ce,d=ke,g=we;return r(),m("div",{class:"location-list-item",onClick:a},[I("div",st,[c(u,{class:"icon-l secondary",icon:b(Xe)(i.location.type.toString())},null,8,["icon"]),I("div",lt,[c(d,{class:"text-primary bold"},{default:S(()=>[q(B(i.location.address),1)]),_:1}),c(d,{class:"text-grey text-s"},{default:S(()=>[q(B(i.location.city),1)]),_:1})])]),I("div",it,[c(d,{class:"text-black text-s flex-row icon-text"},{default:S(()=>[c(u,{icon:"calendar",class:"secondary icon-xs"}),q(" "+B(b(n)(i.location.createdAt.toDate())),1)]),_:1}),c(g,null,{default:S(()=>[q(B(o(i.location.type)),1)]),_:1})])])}}}),Oe=E(rt,[["__scopeId","data-v-e3cc8c90"]]),ct={class:"location-list"},ut=$({__name:"LocationList",props:{locations:{}},emits:["locationSelected"],setup(t,{emit:e}){const o=e,n=s=>{o("locationSelected",s)};return(s,l)=>{const a=Oe;return r(),m("div",ct,[(r(!0),m(X,null,ae(s.locations,i=>(r(),F(a,{key:i.latLng.latitude+","+i.latLng.longitude,location:i,onLocationSelected:n},null,8,["location"]))),128))])}}}),dt=E(ut,[["__scopeId","data-v-c5ffc6c6"]]),pt=$({__name:"BaseButton",props:{icon:{}},setup(t){return(e,o)=>{const n=ce;return r(),m("button",{class:te(["button",{icon:e.icon}])},[e.icon?(r(),F(n,{key:0,icon:e.icon,class:"button-icon"},null,8,["icon"])):x("",!0),j(e.$slots,"default",{},void 0,!0)],2)}}}),be=E(pt,[["__scopeId","data-v-241a404a"]]),mt=["src"],_t=$({__name:"BaseImage",props:{image:{}},setup(t){return(e,o)=>(r(),m("img",{class:"base-image",src:e.image},null,8,mt))}}),ft=$({__name:"LocationCard",props:{location:{}},emits:["locationSelected"],setup(t,{emit:e}){const o=re(),n=t,s=e,l=()=>{s("locationSelected",n.location.latLng)},a=`https://maps.googleapis.com/maps/api/streetview?size=600x400&key=${o.public.GOOGLE_MAPS_API_KEY}&location=${n.location.latLng.latitude},${n.location.latLng.longitude}`;return(i,p)=>{const u=_t,d=Oe;return r(),m("div",{class:"location-card",onClick:l},[c(u,{image:a,alt:"Location Street View",class:"location-image"}),c(d,{location:i.location},null,8,["location"])])}}}),vt=E(ft,[["__scopeId","data-v-c30e5890"]]),ht={class:"location-slider"},gt=$({__name:"LocationSlider",props:{locations:{}},emits:["locationSelected"],setup(t,{emit:e}){const o=e,n=s=>{o("locationSelected",s)};return(s,l)=>{const a=vt;return r(),m("div",ht,[(r(!0),m(X,null,ae(s.locations,i=>(r(),F(a,{key:i.latLng.latitude+","+i.latLng.longitude,location:i,onLocationSelected:n},null,8,["location"]))),128))])}}}),yt=E(gt,[["__scopeId","data-v-cbfd25db"]]),bt=["id","type","placeholder","name","value"],It=$({__name:"BaseInput",props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},disabled:Boolean,required:{type:Boolean,default:!1},readonly:Boolean,name:{type:String,default:""},id:{type:String,default:""},autofocus:{type:Boolean,default:!1},maxlength:{type:Number,default:0},minlength:{type:Number,default:0},pattern:{type:String,default:""},step:{type:Number,default:0},title:{type:String,default:""}},emits:["update:modelValue"],setup(t){return(e,o)=>(r(),m("input",ge(e.$attrs,{id:t.id,class:"base-input",type:t.type,placeholder:t.placeholder,name:t.name,value:t.modelValue,onInput:o[0]||(o[0]=n=>e.$emit("update:modelValue",n.target.value))}),null,16,bt))}}),Et=E(It,[["__scopeId","data-v-1447deba"]]),Lt={class:"base-select-wrapper"},$t=["id","multiple","disabled","required","name","autocomplete","value"],St={key:0,value:"",disabled:"",selected:"",hidden:""},Vt=["value"],wt={__name:"BaseSelect",props:{modelValue:{type:[String,Number,Array],default:""},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},disabled:Boolean,required:Boolean,name:{type:String,default:""},id:{type:String,default:""},class:{type:String,default:""},autocomplete:{type:String,default:""},label:{type:String,default:""}},emits:["update:modelValue"],setup(t){return(e,o)=>{const n=ye;return r(),m("div",Lt,[t.label?(r(),F(n,{key:0,label:t.label,for:t.id},null,8,["label","for"])):x("",!0),I("select",ge(e.$attrs,{id:t.id,class:"base-select",multiple:t.multiple,disabled:t.disabled,required:t.required,name:t.name,autocomplete:t.autocomplete,value:t.modelValue,onChange:o[0]||(o[0]=s=>e.$emit("update:modelValue",t.multiple?[...s.target.selectedOptions].map(l=>l.value):s.target.value))}),[t.placeholder?(r(),m("option",St,B(t.placeholder),1)):x("",!0),(r(!0),m(X,null,ae(t.options,(s,l)=>(r(),m("option",{key:l,value:s.value},B(s.label),9,Vt))),128))],16,$t)])}}},kt=E(wt,[["__scopeId","data-v-89eaeac7"]]),Ot=["id","value","name","required","disabled","min","max"],At={__name:"BaseDatePicker",props:{modelValue:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},class:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{type:String,default:"1900-01-01"},max:{type:String,default:""},label:{type:String,default:""}},emits:["update:modelValue"],setup(t){return(e,o)=>{const n=ye;return r(),m("div",{class:te(["base-date-picker-wrapper",e.$attrs.class])},[t.label?(r(),F(n,{key:0,label:t.label,for:t.id},null,8,["label","for"])):x("",!0),I("input",ge(e.$attrs,{id:t.id,class:"base-date-picker",type:"date",value:t.modelValue,name:t.name,required:t.required,disabled:t.disabled,min:t.min,max:t.max,onInput:o[0]||(o[0]=s=>e.$emit("update:modelValue",s.target.value))}),null,16,Ot)],2)}}},Rt=E(At,[["__scopeId","data-v-0ed4e279"]]),W={required:(t="Dit veld")=>e=>!e||typeof e=="string"&&e.trim()===""?`${t} is verplicht`:null,minLength:(t,e="Dit veld")=>o=>o&&o.length<t?`${e} moet minimaal ${t} karakters bevatten`:null,maxLength:(t,e="Dit veld")=>o=>o&&o.length>t?`${e} mag maximaal ${t} karakters bevatten`:null,email:(t="E-mailadres")=>e=>e&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?`${t} is niet geldig`:null,dateNotInFuture:(t="Datum")=>e=>e&&new Date(e)>new Date?`${t} kan niet in de toekomst liggen`:null,dateRequired:(t="Datum")=>e=>e?null:`${t} is verplicht`,selectRequired:(t="Selectie")=>e=>!e||e===""?`${t} is verplicht`:null},Tt=()=>{const{$api:t}=he(),e=f(!1),o=f(null),n=async(l,a)=>{e.value=!0,o.value=null;try{return await t.location.addLocation(l,a)}catch(i){return o.value=i instanceof Error?i.message:"An unknown error occurred",console.error("Error adding location:",i),null}finally{e.value=!1}},s=()=>{o.value=null};return{addLocation:n,isLoading:_e(e),error:_e(o),clearError:s}},Ct={class:"location-create"},Bt={class:"location-create-form"},Pt={class:"row"},Dt={key:0,class:"error-message mt-0-5"},Mt=$({__name:"LocationCreate",emits:["close"],setup(t,{emit:e}){const o=e,{addLocation:n,isLoading:s,error:l,clearError:a}=Tt(),i=f(),p=f(),u=f(),d=f(),g=f(),v=f(""),V=f(""),y=f(new ve(0,0)),R=f(""),P=f(""),w=f(""),C=f(""),N=[W.required("Adres")],_=[W.dateRequired("Datum van leegstand"),W.dateNotInFuture("Datum van leegstand")],h=[W.selectRequired("Type")],k=[W.selectRequired("Ownership")],D=[W.required("E-mailadres"),W.email("E-mailadres")],oe=f([{value:G.PRIVATE,label:G.PRIVATE},{value:G.ORGANIZATION,label:G.ORGANIZATION},{value:G.GOVERNMENT,label:G.GOVERNMENT},{value:G.UNKNOWN,label:G.UNKNOWN}]),Z=f([{value:M.RESIDENTIAL,label:M.RESIDENTIAL},{value:M.COMMERCIAL,label:M.COMMERCIAL},{value:M.INDUSTRIAL,label:M.INDUSTRIAL},{value:M.OFFICE,label:M.OFFICE},{value:M.PLOT,label:M.PLOT},{value:M.OTHER,label:M.OTHER}]),K=()=>{var O;(O=i.value)==null||O.validate(v.value)},z=()=>{var O;(O=p.value)==null||O.validate(R.value)},ne=()=>{var O;(O=u.value)==null||O.validate(P.value)},ue=()=>{var O;(O=d.value)==null||O.validate(w.value)},de=()=>{var O;(O=g.value)==null||O.validate(C.value)},se=async()=>{var T,Y,U,Ie,Ee;const O=(T=i.value)==null?void 0:T.validate(v.value),L=(Y=p.value)==null?void 0:Y.validate(R.value),pe=(U=u.value)==null?void 0:U.validate(P.value),J=(Ie=d.value)==null?void 0:Ie.validate(w.value),me=(Ee=g.value)==null?void 0:Ee.validate(C.value);if(!O||!L||!pe||!J||!me)return;const le={address:v.value,city:V.value,type:P.value,ownership:w.value,vacatedSince:new Date(R.value),latLng:y.value},ie=await n(le,C.value);console.log("result",ie),ie?o("close"):l.value&&console.error("Error adding location:",l.value)};return(O,L)=>{const pe=Ve,J=Se,me=Et,le=kt,ie=be;return r(),m("div",Ct,[I("div",Bt,[c(pe,{id:"location-create-input",ref_key:"addressInput",ref:i,modelValue:v.value,"onUpdate:modelValue":[L[0]||(L[0]=T=>v.value=T),K],address:v.value,"onUpdate:address":L[1]||(L[1]=T=>v.value=T),city:V.value,"onUpdate:city":L[2]||(L[2]=T=>V.value=T),latLng:y.value,"onUpdate:latLng":L[3]||(L[3]=T=>y.value=T),label:"Address","restrict-to-specific-addresses":!0,"validation-rules":N},null,8,["modelValue","address","city","latLng"]),c(J,{id:"date-input",ref_key:"dateInput",ref:p,label:"Datum van leegstand","validation-rules":_},{default:S(({hasError:T,onValidationError:Y})=>[c(Rt,{modelValue:R.value,"onUpdate:modelValue":[L[4]||(L[4]=U=>R.value=U),z]},null,8,["modelValue"])]),_:1},512),c(J,{id:"email-input",ref_key:"emailInput",ref:g,label:"E-mailadres (voor verificatie)","validation-rules":D},{default:S(({hasError:T,onValidationError:Y})=>[c(me,{id:"email-input",modelValue:C.value,"onUpdate:modelValue":[L[5]||(L[5]=U=>C.value=U),de],type:"email",placeholder:"email@voorbeeld.nl"},null,8,["modelValue"])]),_:1},512),I("div",Pt,[c(J,{id:"type-input",ref_key:"typeInput",ref:u,label:"Type","validation-rules":h},{default:S(({hasError:T,onValidationError:Y})=>[c(le,{modelValue:P.value,"onUpdate:modelValue":[L[6]||(L[6]=U=>P.value=U),ne],options:Z.value},null,8,["modelValue","options"])]),_:1},512),c(J,{id:"ownership-input",ref_key:"ownershipInput",ref:d,label:"Ownership","validation-rules":k},{default:S(({hasError:T,onValidationError:Y})=>[c(le,{modelValue:w.value,"onUpdate:modelValue":[L[7]||(L[7]=U=>w.value=U),ue],options:oe.value},null,8,["modelValue","options"])]),_:1},512)]),c(ie,{class:"submit primary-inverted mt-1-5",disabled:b(s),onClick:se},{default:S(()=>[q(B(b(s)?"Bezig met melden...":"Melden"),1)]),_:1},8,["disabled"]),b(l)?(r(),m("div",Dt,[q(B(b(l))+" ",1),I("button",{type:"button",class:"error-close",onClick:L[8]||(L[8]=(...T)=>b(a)&&b(a)(...T))},"×")])):x("",!0)])])}}}),Nt=E(Mt,[["__scopeId","data-v-f0ab0a5a"]]),xt={};function Ut(t,e){return r(),m("h2",null,[j(t.$slots,"default",{},void 0,!0)])}const qt=E(xt,[["render",Ut],["__scopeId","data-v-e5659f20"]]),Ft={class:"overlay-wrapper"},Gt={class:"overlay"},jt={class:"overlay-header"},Kt={class:"overlay-content"},Wt=$({__name:"Overlay",props:{title:{}},emits:["close"],setup(t,{emit:e}){const o=e,n=()=>{o("close")};return(s,l)=>{const a=qt,i=be;return r(),m("div",Ft,[I("div",Gt,[I("div",jt,[c(a,{class:"text-xl"},{default:S(()=>[q(B(s.title),1)]),_:1}),c(i,{icon:"close",class:"icon-sm primary-inverted",onClick:n})]),I("div",Kt,[j(s.$slots,"default",{},void 0,!0)])])])}}}),Ht=E(Wt,[["__scopeId","data-v-bd328522"]]),Zt={class:"location-info-window"},zt=$({__name:"LocationInfoWindow",props:{location:{}},setup(t){return(e,o)=>{const n=ke;return r(),m("div",Zt,[c(n,null,{default:S(()=>[q(B(e.location.address),1)]),_:1}),c(n,null,{default:S(()=>[q("Latitude: "+B(e.location.latitude)+", Longitude: "+B(e.location.longitude),1)]),_:1})])}}}),Jt=E(zt,[["__scopeId","data-v-d5197f4e"]]),Yt={key:0},Qt=$({__name:"BaseMarker",props:{map:{},position:{},title:{}},setup(t){const e=t,o=f(null),s=re().app.baseURL||"/",l=document.createElement("img");l.src=`${s}icons/marker.svg`.replace("//","/"),l.style.width="30px",l.style.height="30px";const a=new google.maps.Marker({map:e.map,position:{lat:e.position.lat,lng:e.position.lng},icon:l.src}),i=new google.maps.InfoWindow({disableAutoPan:!0});return a.addListener("click",()=>{i.close(),o.value instanceof HTMLElement&&i.setContent(o.value),i.open(e.map,a)}),(p,u)=>p.map?(r(),m("div",Yt,[I("div",{ref_key:"infoWindowRef",ref:o},[j(p.$slots,"default")],512)])):x("",!0)}}),Xt=$({__name:"BaseMap",props:{google:{},mapConfig:{},center:{}},setup(t){const e=t,o=f(null),n=f(null);return fe(async()=>{try{n.value=new e.google.maps.Map(o.value,e.mapConfig)}catch(s){console.error("Error aloading map: ",s)}}),Re(()=>e.center,s=>{n.value&&n.value.panTo(s)},{deep:!0}),(s,l)=>(r(),m(X,null,[I("div",{ref_key:"mapContainer",ref:o,class:"map"},null,512),b(n)?j(s.$slots,"default",{key:0,map:b(n)},void 0,!0):x("",!0)],64))}}),ea=E(Xt,[["__scopeId","data-v-16234358"]]),ta={class:"full-width"},aa=$({__name:"LocationMap",props:{locations:{},center:{}},setup(t){const e=t,o=re(),n={center:{lat:e.center.latitude,lng:e.center.longitude},mapId:o.public.GOOGLE_MAPS_MAP_ID,zoom:12,disableDefaultUI:!0};return(s,l)=>{const a=Jt,i=Qt,p=ea,u=$e;return r(),m("div",ta,[c(u,null,{default:S(({google:d})=>[c(p,{google:d,"map-config":n,center:{lat:s.center.latitude,lng:s.center.longitude}},{default:S(({map:g})=>[(r(!0),m(X,null,ae(s.locations,v=>(r(),F(i,{key:v.id,map:g,google:d,position:{lat:v.latLng.latitude,lng:v.latLng.longitude},title:v.address},{default:S(()=>[c(a,{location:v},null,8,["location"])]),_:2},1032,["map","google","position","title"]))),128))]),_:2},1032,["google","center"])]),_:1})])}}}),oa={class:"index"},na={class:"map-overlay"},sa={class:"sidebar"},la={class:"flex-row"},ia={class:"top-bar"},ra={class:"info-buttons"},ca={class:"bottom-bar"},pa=$({__name:"index",setup(t){var N;const e=Te(),o=Ce(),{$firestore:n}=he();Be({title:"Wasted Spaces",meta:[{name:"",content:""}]});const s=f([]),l=f([]),a=f(!1),i=f(new ve(51.9146308,4.4709485)),p=f(((N=o.query.filter)==null?void 0:N.toString().toUpperCase())||null),u=f(50),d=async()=>{try{s.value=await n.getLocations(),l.value=V(s.value),l.value=R(l.value,p.value),l.value=y(l.value)}catch(_){console.error("Error fetching locations:",_)}};function g(_,h,k,D){const Z=v(k-_),K=v(D-h),z=Math.sin(Z/2)*Math.sin(Z/2)+Math.cos(v(_))*Math.cos(v(k))*Math.sin(K/2)*Math.sin(K/2);return 6371*(2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z)))}function v(_){return _*(Math.PI/180)}const V=_=>_.map(h=>({...h,distance:g(i.value.latitude,i.value.longitude,h.latLng.latitude,h.latLng.longitude)})).filter(h=>h.distance<=u.value).sort((h,k)=>h.distance-k.distance),y=_=>_.filter(h=>h.verified),R=(_,h)=>h?_.filter(k=>k.type===h):_,P=_=>{i.value=_},w=_=>{i.value=_,l.value=V(s.value),l.value=y(l.value)},C=_=>{p.value=_,e.push({query:{...o.query,filter:(_==null?void 0:_.toString().toLowerCase())||void 0}}),l.value=V(s.value),l.value=R(l.value,_),l.value=y(l.value)};return d(),(_,h)=>{const k=ce,D=Ve,oe=at,Z=dt,K=be,z=yt,ne=Nt,ue=Ht,de=aa;return r(),m("div",oa,[I("div",na,[I("div",sa,[I("div",la,[c(k,{class:"logo icon-lxl",icon:"logo_standalone_red"}),c(k,{class:"logo",icon:"logo_text_long"})]),c(D,{id:"sidebar-input",class:"mt-1-0",onLocationSelected:w}),c(oe,{class:"mt-1-0","model-value":"currentFilter",onFilterSelected:C}),c(Z,{locations:b(l),class:"mt-1-0",onLocationSelected:P},null,8,["locations"])]),I("div",ia,[c(D,{id:"topbar-input",onLocationSelected:w})]),I("div",ra,[I("div",null,[c(K,{class:"primary-inverted",icon:"documents"}),c(K,{class:"primary-inverted mt-0-5",icon:"info"})]),c(K,{class:"primary-inverted",icon:"add",onClick:h[0]||(h[0]=se=>a.value=!0)})]),I("div",ca,[c(z,{locations:b(l),onLocationSelected:P},null,8,["locations"])])]),b(a)?(r(),F(ue,{key:0,title:"MELD LEEGSTAND",onClose:h[2]||(h[2]=se=>a.value=!1)},{default:S(()=>[c(ne,{onClose:h[1]||(h[1]=se=>a.value=!1)})]),_:1})):x("",!0),c(de,{class:"map",locations:b(l),center:b(i)},null,8,["locations","center"])])}}});export{pa as default};
