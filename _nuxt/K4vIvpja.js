import{d as k,C as I,D as Pe,E as _,t as c,v as m,F as C,_ as $,r as v,c as z,o as de,G as ve,z as u,x as y,H as oe,I as W,l as fe,y as M,J as te,K as q,A,L as ne,M as ae,B as G,m as pe,N as ge,T as Se,O as De,P as xe,Q as Me,R as qe,S as Ue,u as Ne,U as je}from"./CTw2fNJf.js";import{u as Fe}from"./BsDnhXdC.js";const Ge=["innerHTML"],Ke=k({__name:"BaseIcon",props:{icon:{}},async setup(t){let e,n;const l=t,a=Object.fromEntries(Object.entries(Object.assign({"/assets/icons/add.svg":()=>I(()=>import("./BiKgAjhi.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/anders.svg":()=>I(()=>import("./CWVH4cwX.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/calendar.svg":()=>I(()=>import("./DrqZ3LR8.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/caravan.svg":()=>I(()=>import("./CZgRV_A8.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/close.svg":()=>I(()=>import("./TfD_I-fS.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/documents.svg":()=>I(()=>import("./DOO1Ge5l.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/farm.svg":()=>I(()=>import("./0PHxwUTU.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/industrieel.svg":()=>I(()=>import("./CtCPrqlm.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/industry.svg":()=>I(()=>import("./BKUyxpaI.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/info.svg":()=>I(()=>import("./CZ-SqL3D.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/kantoor.svg":()=>I(()=>import("./CEU2i07Q.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/logo_standalone.svg":()=>I(()=>import("./B3A4rG9H.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/logo_standalone_red.svg":()=>I(()=>import("./CaUd5saq.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/logo_text.svg":()=>I(()=>import("./DF4MJzAr.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/logo_text_long.svg":()=>I(()=>import("./BUFqeKC3.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/logo_white.svg":()=>I(()=>import("./_bgolDXl.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/office.svg":()=>I(()=>import("./DRdKqeIu.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/other.svg":()=>I(()=>import("./BGeYsIfF.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/search.svg":()=>I(()=>import("./CF8Xzspr.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/shop.svg":()=>I(()=>import("./ClPQWvmX.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/status-afgekeurd.svg":()=>I(()=>import("./Ps202kHH.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/status-geverifieerd.svg":()=>I(()=>import("./PYmtCzKU.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/status-ongeverifieerd.svg":()=>I(()=>import("./CLDFmZiC.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/terrein.svg":()=>I(()=>import("./BSoPowOy.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/winkel.svg":()=>I(()=>import("./HBiaRjkF.js"),[],import.meta.url).then(o=>o.default),"/assets/icons/woning.svg":()=>I(()=>import("./Ce4Ee4Kt.js"),[],import.meta.url).then(o=>o.default)})).map(([o,i])=>[o.split("/").pop().split(".").shift(),i])),s=l.icon&&([e,n]=Pe(()=>{var o;return(o=a==null?void 0:a[l.icon])==null?void 0:o.call(a)}),e=await e,n(),e);return(o,i)=>_(s)?(c(),m("div",{key:0,class:"base-icon",innerHTML:_(s)},null,8,Ge)):C("",!0)}}),se=$(Ke,[["__scopeId","data-v-b4ee1f8a"]]),ze=["id","value"],He=k({__name:"BaseLocationInput",props:{modelValue:{type:String,default:""},google:{type:Object,required:!0},id:{type:String,default:"geocode"},restrictToSpecificAddresses:{type:Boolean,default:!1},hasError:{type:Boolean,default:!1}},emits:["update:modelValue","update:address","update:city","validationError","update:latLng","locationSelected"],setup(t,{emit:e}){const n=t,l=e,a=v(null),s=z(()=>({types:n.restrictToSpecificAddresses?["address"]:["geocode"],fields:["formatted_address","geometry","name","address_components"]}));de(()=>{o()});function o(){var r;const i=document.getElementById(n.id);a.value=new n.google.maps.places.Autocomplete(i,s.value),(r=a.value)==null||r.addListener("place_changed",()=>{var p,h,f,S,g,b,V;const d=(p=a.value)==null?void 0:p.getPlace();if(d){if(n.restrictToSpecificAddresses&&!((h=d.address_components)==null?void 0:h.some(x=>x.types.includes("street_number")))){l("update:modelValue",""),l("validationError","Selecteer een specifiek adres met huisnummer");return}const R=(S=(f=d.geometry)==null?void 0:f.location)==null?void 0:S.lat(),D=(b=(g=d.geometry)==null?void 0:g.location)==null?void 0:b.lng();if(R&&D){const T=new ve(R,D);let x="",U="",j="";(V=d.address_components)==null||V.forEach(B=>{B.types.includes("route")&&(x=B.long_name),B.types.includes("street_number")&&(U=B.long_name),(B.types.includes("locality")||B.types.includes("administrative_area_level_2"))&&(j=B.long_name)});const O={address:U?`${x} ${U}`:x,city:j,latLng:T};l("locationSelected",T),l("update:address",O.address),l("update:city",O.city),l("update:latLng",O.latLng),l("validationError","")}}})}return(i,r)=>{const d=se;return c(),m("div",{class:oe(["base-location-input",{error:t.hasError}])},[u(d,{class:"icon-sxs secondary",icon:"search"}),y("input",{id:t.id,class:"input",value:t.modelValue,type:"text",placeholder:"Zoek op locatie",onInput:r[0]||(r[0]=p=>i.$emit("update:modelValue",p.target.value))},null,40,ze)],2)}}}),We=$(He,[["__scopeId","data-v-0adb03e3"]]);function Ze(t,e,n,l){function a(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function i(p){try{d(l.next(p))}catch(h){o(h)}}function r(p){try{d(l.throw(p))}catch(h){o(h)}}function d(p){p.done?s(p.value):a(p.value).then(i,r)}d((l=l.apply(t,[])).next())})}function Je(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ye=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var l,a,s;if(Array.isArray(e)){if(l=e.length,l!=n.length)return!1;for(a=l;a--!==0;)if(!t(e[a],n[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),l=s.length,l!==Object.keys(n).length)return!1;for(a=l;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[a]))return!1;for(a=l;a--!==0;){var o=s[a];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},Qe=Je(Ye);const Ve="__googleMapsScriptId";var ee;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(ee||(ee={}));class H{constructor({apiKey:e,authReferrerPolicy:n,channel:l,client:a,id:s=Ve,language:o,libraries:i=[],mapIds:r,nonce:d,region:p,retries:h=3,url:f="https://maps.googleapis.com/maps/api/js",version:S}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=n,this.channel=l,this.client=a,this.id=s||Ve,this.language=o,this.libraries=i,this.mapIds=r,this.nonce=d,this.region=p,this.retries=h,this.url=f,this.version=S,H.instance){if(!Qe(this.options,H.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(H.instance.options)}`);return H.instance}H.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?ee.FAILURE:this.done?ee.SUCCESS:this.loading?ee.LOADING:ee.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(l=>{l?n(l.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id)){this.callback();return}const l={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(l).forEach(s=>!l[s]&&delete l[s]),!((n=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||n===void 0)&&n.importLibrary||(s=>{let o,i,r,d="The Google Maps JavaScript API",p="google",h="importLibrary",f="__ib__",S=document,g=window;g=g[p]||(g[p]={});const b=g.maps||(g.maps={}),V=new Set,R=new URLSearchParams,D=()=>o||(o=new Promise((T,x)=>Ze(this,void 0,void 0,function*(){var U;yield i=S.createElement("script"),i.id=this.id,R.set("libraries",[...V]+"");for(r in s)R.set(r.replace(/[A-Z]/g,j=>"_"+j[0].toLowerCase()),s[r]);R.set("callback",p+".maps."+f),i.src=this.url+"?"+R,b[f]=T,i.onerror=()=>o=x(Error(d+" could not load.")),i.nonce=this.nonce||((U=S.querySelector("script[nonce]"))===null||U===void 0?void 0:U.nonce)||"",S.head.append(i)})));b[h]?console.warn(d+" only loads once. Ignoring:",s):b[h]=(T,...x)=>V.add(T)&&D().then(()=>b[h](T,...x))})(l);const a=this.libraries.map(s=>this.importLibrary(s));a.length||a.push(this.importLibrary("core")),Promise.all(a).then(()=>this.callback(),s=>{const o=new ErrorEvent("error",{error:s});this.loadErrorCallback(o)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const n=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${n} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}const we=k({__name:"GoogleMapLoader",setup(t){const e=fe(),n=v(null);return de(async()=>{n.value=await new H({libraries:["places","marker"],apiKey:e.public.GOOGLE_MAPS_API_KEY}).load().then()}),(l,a)=>(c(),m("div",null,[_(n)?W(l.$slots,"default",{key:0,google:_(n)}):C("",!0)]))}}),Xe=["for"],et={__name:"BaseLabel",props:{label:{type:String,default:""},forProp:{type:String,default:""}},setup(t){return(e,n)=>t.label?(c(),m("label",{key:0,for:t.forProp,class:"base-label"},M(t.label),9,Xe)):C("",!0)}},he=$(et,[["__scopeId","data-v-573a0070"]]),tt={class:"validated-input"},ot={key:1,class:"error-message"},nt=k({__name:"ValidatedInput",props:{label:{type:String,default:""},id:{type:String,default:""},validationRules:{type:Array,default:()=>[]}},setup(t,{expose:e}){const n=t,l=v(""),a=i=>{l.value=i},s=()=>{l.value=""};return e({validate:i=>{for(const r of n.validationRules){const d=r(i);if(d)return a(d),!1}return s(),!0},hasError:z(()=>!!l.value),errorMessage:te(l)}),(i,r)=>{const d=he;return c(),m("div",tt,[t.label?(c(),q(d,{key:0,label:t.label,for:t.id},null,8,["label","for"])):C("",!0),y("div",{class:oe(["input-wrapper",{error:!!_(l)}])},[W(i.$slots,"default",{hasError:!!_(l),onValidationError:a,clearError:s},void 0,!0)],2),_(l)?(c(),m("div",ot,M(_(l)),1)):C("",!0)])}}}),ye=$(nt,[["__scopeId","data-v-ed3f4e4b"]]),at=k({__name:"LocationInput",props:{modelValue:{type:String,default:""},id:{type:String,default:"location-input"},label:{type:String,default:""},restrictToSpecificAddresses:{type:Boolean,default:!1},validationRules:{type:Array,default:()=>[]}},emits:["update:modelValue","update:address","update:city","validationError","locationSelected","update:latLng"],setup(t,{expose:e,emit:n}){const l=n,a=v(),s=o=>{l("locationSelected",o)};return e({validate:o=>{var i;return(i=a.value)==null?void 0:i.validate(o)},hasError:z(()=>{var o;return(o=a.value)==null?void 0:o.hasError}),errorMessage:z(()=>{var o;return(o=a.value)==null?void 0:o.errorMessage})}),(o,i)=>{const r=We,d=we,p=ye;return c(),q(p,{id:t.id,ref_key:"validatedInputRef",ref:a,label:t.label,"validation-rules":t.validationRules},{default:A(({hasError:h,onValidationError:f})=>[u(d,null,{default:A(({google:S})=>[u(r,{id:t.id,"model-value":t.modelValue,google:S,"restrict-to-specific-addresses":t.restrictToSpecificAddresses,"has-error":h,"onUpdate:latLng":i[0]||(i[0]=g=>o.$emit("update:latLng",g)),"onUpdate:address":i[1]||(i[1]=g=>o.$emit("update:address",g)),"onUpdate:city":i[2]||(i[2]=g=>o.$emit("update:city",g)),onLocationSelected:s,onValidationError:f},null,8,["id","model-value","google","restrict-to-specific-addresses","has-error","onValidationError"])]),_:2},1024)]),_:1},8,["id","label","validation-rules"])}}}),ke=$(at,[["__scopeId","data-v-3d2c3077"]]),st={class:"base-tag text-s"},lt=k({__name:"BaseTag",props:{tag:{}},setup(t){return(e,n)=>(c(),m("div",st,M(e.tag),1))}}),be=$(lt,[["__scopeId","data-v-ce209c1e"]]);var Oe=(t=>(t.Particulier="Particulier",t.Organisatie="Organisatie",t.Overheid="Overheid",t.Onbekend="Onbekend",t))(Oe||{}),Ee=(t=>(t.Woning="Woning",t.Commercieel="Commercieel",t.Industrieel="Industrieel",t.Kantoor="Kantoor",t.Terrein="Terrein",t.Anders="Anders",t))(Ee||{}),Ie=(t=>(t.UPVOTE="upvote",t.DOWNVOTE="downvote",t))(Ie||{});const it={class:"filter-tabs"},rt=k({__name:"FilterTabs",props:{modelValue:{}},emits:["update:modelValue","filterSelected"],setup(t,{emit:e}){const n=e,l=z(()=>Object.keys(Ee).map(s=>({value:s,label:s})));function a(s){n("update:modelValue",s),n("filterSelected",s)}return(s,o)=>(c(),m("div",it,[(c(!0),m(ne,null,ae(l.value,i=>(c(),q(be,{key:i.value,class:oe(["filter-tag",{active:s.modelValue===i.value}]),tag:i.label.toString(),onClick:r=>a(i.value)},null,8,["class","tag","onClick"]))),128))]))}}),ct=$(rt,[["__scopeId","data-v-2c545f5a"]]),ut={};function dt(t,e){return c(),m("p",null,[W(t.$slots,"default",{},void 0,!0)])}const pt=$(ut,[["render",dt],["__scopeId","data-v-d963e6d6"]]),mt={class:"location-header"},_t={class:"flex-column ml-0-50"},vt=k({__name:"LocationHeader",props:{location:{}},setup(t){const{$relativeTime:e}=pe();return(n,l)=>{const a=se,s=pt;return c(),m("div",mt,[u(a,{class:"icon-xl secondary",icon:n.location.type.toString().toLowerCase()},null,8,["icon"]),y("div",_t,[u(s,{class:"text-sm text-primary bold"},{default:A(()=>[G(M(n.location.address),1)]),_:1}),u(s,{class:"text-grey text-s"},{default:A(()=>[G(M(n.location.city),1)]),_:1}),u(s,{class:"text-grey text-s"},{default:A(()=>[G(M(_(e)(n.location.createdAt.toDate())),1)]),_:1})])])}}}),Ae=$(vt,[["__scopeId","data-v-44ae4f28"]]),ft={name:"BaseVote",props:{count:{type:Number,default:0},type:{type:String,required:!0,validator:t=>["upvotes","downvotes"].includes(t)}}};function gt(t,e,n,l,a,s){return c(),m("span",{class:oe(["vote",n.type])},M(n.count.toString().padStart(3,"0")),3)}const Be=$(ft,[["render",gt],["__scopeId","data-v-6a459a52"]]),ht={name:"VoteCount",props:{upvotes:{type:Number,default:0},downvotes:{type:Number,default:0}}},yt={class:"vote-count bold text-s"};function bt(t,e,n,l,a,s){const o=Be;return c(),m("div",yt,[u(o,{count:n.upvotes,type:"upvotes"},null,8,["count"]),u(o,{count:n.downvotes,type:"downvotes"},null,8,["count"])])}const Et=$(ht,[["render",bt],["__scopeId","data-v-be6b3cf8"]]),It={class:"location-tags flex-row"},$t=k({__name:"LocationListItem",props:{location:{}},emits:["locationSelected"],setup(t,{emit:e}){const n=t,l=e,a=()=>{l("locationSelected",n.location.latLng)};return(s,o)=>{const i=Ae,r=be,d=Et;return c(),m("div",{class:"location-list-item",onClick:a},[u(i,{location:s.location},null,8,["location"]),y("div",It,[u(r,{tag:s.location.type.toString()},null,8,["tag"]),u(d,{upvotes:s.location.upvotes,downvotes:s.location.downvotes},null,8,["upvotes","downvotes"])])])}}}),Re=$($t,[["__scopeId","data-v-3a8d5671"]]),Lt={class:"location-list"},St=k({__name:"LocationList",props:{locations:{}},emits:["locationSelected"],setup(t,{emit:e}){const n=e,l=a=>{n("locationSelected",a)};return(a,s)=>{const o=Re;return c(),m("div",Lt,[(c(!0),m(ne,null,ae(a.locations,i=>(c(),q(o,{key:i.id,location:i,onLocationSelected:l},null,8,["location"]))),128))])}}}),Vt=$(St,[["__scopeId","data-v-9fcc2ee7"]]),wt=k({__name:"BaseButton",props:{icon:{}},setup(t){return(e,n)=>{const l=se;return c(),m("button",{class:oe(["button",{icon:e.icon}])},[e.icon?(c(),q(l,{key:0,icon:e.icon,class:"button-icon"},null,8,["icon"])):C("",!0),W(e.$slots,"default",{},void 0,!0)],2)}}}),le=$(wt,[["__scopeId","data-v-0221cf41"]]),kt={class:"location-slider"},Ot=k({__name:"LocationSlider",props:{locations:{}},emits:["locationSelected"],setup(t,{emit:e}){const n=e,l=a=>{n("locationSelected",a)};return(a,s)=>{const o=Re;return c(),m("div",kt,[(c(!0),m(ne,null,ae(a.locations,i=>(c(),q(o,{key:i.id,location:i,onLocationSelected:l},null,8,["location"]))),128))])}}}),At=$(Ot,[["__scopeId","data-v-0e6c46a3"]]),Bt=["id","type","placeholder","name","value"],Rt=k({__name:"BaseInput",props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},disabled:Boolean,required:{type:Boolean,default:!1},readonly:Boolean,name:{type:String,default:""},id:{type:String,default:""},autofocus:{type:Boolean,default:!1},maxlength:{type:Number,default:0},minlength:{type:Number,default:0},pattern:{type:String,default:""},step:{type:Number,default:0},title:{type:String,default:""}},emits:["update:modelValue"],setup(t){return(e,n)=>(c(),m("input",ge(e.$attrs,{id:t.id,class:"base-input",type:t.type,placeholder:t.placeholder,name:t.name,value:t.modelValue,onInput:n[0]||(n[0]=l=>e.$emit("update:modelValue",l.target.value))}),null,16,Bt))}}),Ce=$(Rt,[["__scopeId","data-v-1447deba"]]),Ct={class:"base-select-wrapper"},Tt=["id","multiple","disabled","required","name","autocomplete","value"],Pt={key:0,value:"",disabled:"",selected:"",hidden:""},Dt=["value"],xt={__name:"BaseSelect",props:{modelValue:{type:[String,Number,Array],default:""},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},disabled:Boolean,required:Boolean,name:{type:String,default:""},id:{type:String,default:""},class:{type:String,default:""},autocomplete:{type:String,default:""},label:{type:String,default:""}},emits:["update:modelValue"],setup(t){return(e,n)=>{const l=he;return c(),m("div",Ct,[t.label?(c(),q(l,{key:0,label:t.label,for:t.id},null,8,["label","for"])):C("",!0),y("select",ge(e.$attrs,{id:t.id,class:"base-select",multiple:t.multiple,disabled:t.disabled,required:t.required,name:t.name,autocomplete:t.autocomplete,value:t.modelValue,onChange:n[0]||(n[0]=a=>e.$emit("update:modelValue",t.multiple?[...a.target.selectedOptions].map(s=>s.value):a.target.value))}),[t.placeholder?(c(),m("option",Pt,M(t.placeholder),1)):C("",!0),(c(!0),m(ne,null,ae(t.options,(a,s)=>(c(),m("option",{key:s,value:a.value},M(a.label),9,Dt))),128))],16,Tt)])}}},Mt=$(xt,[["__scopeId","data-v-89eaeac7"]]),qt=["id","value","name","required","disabled","min","max"],Ut={__name:"BaseDatePicker",props:{modelValue:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},class:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},min:{type:String,default:"1900-01-01"},max:{type:String,default:""},label:{type:String,default:""}},emits:["update:modelValue"],setup(t){return(e,n)=>{const l=he;return c(),m("div",{class:oe(["base-date-picker-wrapper",e.$attrs.class])},[t.label?(c(),q(l,{key:0,label:t.label,for:t.id},null,8,["label","for"])):C("",!0),y("input",ge(e.$attrs,{id:t.id,class:"base-date-picker",type:"date",value:t.modelValue,name:t.name,required:t.required,disabled:t.disabled,min:t.min,max:t.max,onInput:n[0]||(n[0]=a=>e.$emit("update:modelValue",a.target.value))}),null,16,qt)],2)}}},Nt=$(Ut,[["__scopeId","data-v-0ed4e279"]]),F={required:(t="Dit veld")=>e=>!e||typeof e=="string"&&e.trim()===""?`${t} is verplicht`:null,minLength:(t,e="Dit veld")=>n=>n&&n.length<t?`${e} moet minimaal ${t} karakters bevatten`:null,maxLength:(t,e="Dit veld")=>n=>n&&n.length>t?`${e} mag maximaal ${t} karakters bevatten`:null,email:(t="E-mailadres")=>e=>e&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?`${t} is niet geldig`:null,dateNotInFuture:(t="Datum")=>e=>e&&new Date(e)>new Date?`${t} kan niet in de toekomst liggen`:null,dateRequired:(t="Datum")=>e=>e?null:`${t} is verplicht`,selectRequired:(t="Selectie")=>e=>!e||e===""?`${t} is verplicht`:null},jt=()=>{const{$api:t}=pe(),e=v(!1),n=v(null),l=async(s,o)=>{e.value=!0,n.value=null;try{return await t.location.addLocation(s,o)}catch(i){return n.value=i instanceof Error?i.message:"An unknown error occurred",console.error("Error adding location:",i),null}finally{e.value=!1}},a=()=>{n.value=null};return{addLocation:l,isLoading:te(e),error:te(n),clearError:a}},Ft={class:"location-create"},Gt={class:"location-create-form"},Kt={class:"row"},zt={key:0,class:"error-message mt-0-5"},Ht=k({__name:"LocationCreate",emits:["close"],setup(t,{emit:e}){const n=e,{addLocation:l,isLoading:a,error:s,clearError:o}=jt(),i=v(),r=v(),d=v(),p=v(),h=v(),f=v(""),S=v(""),g=v(new ve(0,0)),b=v(""),V=v(""),R=v(""),D=v(""),T=[F.required("Adres")],x=[F.dateRequired("Datum van leegstand"),F.dateNotInFuture("Datum van leegstand")],U=[F.selectRequired("Type")],j=[F.selectRequired("Ownership")],E=[F.required("E-mailadres"),F.email("E-mailadres")],O=v(Object.values(Oe).map(L=>({value:L,label:L}))),B=v(Object.values(Ee).map(L=>({value:L,label:L}))),Z=()=>{var L;(L=i.value)==null||L.validate(f.value)},ie=()=>{var L;(L=r.value)==null||L.validate(b.value)},J=()=>{var L;(L=d.value)==null||L.validate(V.value)},K=()=>{var L;(L=p.value)==null||L.validate(R.value)},Y=()=>{var L;(L=h.value)==null||L.validate(D.value)},re=async()=>{var P,X,N,$e,Le;const L=(P=i.value)==null?void 0:P.validate(f.value),w=(X=r.value)==null?void 0:X.validate(b.value),me=(N=d.value)==null?void 0:N.validate(V.value),Q=($e=p.value)==null?void 0:$e.validate(R.value),_e=(Le=h.value)==null?void 0:Le.validate(D.value);if(!L||!w||!me||!Q||!_e)return;const ce={id:"",address:f.value,city:S.value,type:V.value,ownership:R.value,vacatedSince:new Date(b.value),latLng:g.value,verified:!1,createdAt:Se.now(),updatedAt:Se.now(),upvotes:0,downvotes:0},ue=await l(ce,D.value);console.log("result",ue),ue?n("close"):s.value&&console.error("Error adding location:",s.value)};return(L,w)=>{const me=ke,Q=ye,_e=Ce,ce=Mt,ue=le;return c(),m("div",Ft,[y("div",Gt,[u(me,{id:"location-create-input",ref_key:"addressInput",ref:i,modelValue:f.value,"onUpdate:modelValue":[w[0]||(w[0]=P=>f.value=P),Z],address:f.value,"onUpdate:address":w[1]||(w[1]=P=>f.value=P),city:S.value,"onUpdate:city":w[2]||(w[2]=P=>S.value=P),latLng:g.value,"onUpdate:latLng":w[3]||(w[3]=P=>g.value=P),label:"Address","restrict-to-specific-addresses":!0,"validation-rules":T},null,8,["modelValue","address","city","latLng"]),u(Q,{id:"date-input",ref_key:"dateInput",ref:r,label:"Datum van leegstand","validation-rules":x},{default:A(({hasError:P,onValidationError:X})=>[u(Nt,{modelValue:b.value,"onUpdate:modelValue":[w[4]||(w[4]=N=>b.value=N),ie]},null,8,["modelValue"])]),_:1},512),u(Q,{id:"email-input",ref_key:"emailInput",ref:h,label:"E-mailadres (voor verificatie)","validation-rules":E},{default:A(({hasError:P,onValidationError:X})=>[u(_e,{id:"email-input",modelValue:D.value,"onUpdate:modelValue":[w[5]||(w[5]=N=>D.value=N),Y],type:"email",placeholder:"email@voorbeeld.nl"},null,8,["modelValue"])]),_:1},512),y("div",Kt,[u(Q,{id:"type-input",ref_key:"typeInput",ref:d,label:"Type","validation-rules":U},{default:A(({hasError:P,onValidationError:X})=>[u(ce,{modelValue:V.value,"onUpdate:modelValue":[w[6]||(w[6]=N=>V.value=N),J],options:B.value},null,8,["modelValue","options"])]),_:1},512),u(Q,{id:"ownership-input",ref_key:"ownershipInput",ref:p,label:"Ownership","validation-rules":j},{default:A(({hasError:P,onValidationError:X})=>[u(ce,{modelValue:R.value,"onUpdate:modelValue":[w[7]||(w[7]=N=>R.value=N),K],options:O.value},null,8,["modelValue","options"])]),_:1},512)]),u(ue,{class:"submit primary-inverted mt-1-50",disabled:_(a),onClick:re},{default:A(()=>[G(M(_(a)?"Bezig met melden...":"Melden"),1)]),_:1},8,["disabled"]),_(s)?(c(),m("div",zt,[G(M(_(s))+" ",1),y("button",{type:"button",class:"error-close",onClick:w[8]||(w[8]=(...P)=>_(o)&&_(o)(...P))},"×")])):C("",!0)])])}}}),Wt=$(Ht,[["__scopeId","data-v-589079ac"]]),Zt={};function Jt(t,e){return c(),m("h2",null,[W(t.$slots,"default",{},void 0,!0)])}const Yt=$(Zt,[["render",Jt],["__scopeId","data-v-09818b2c"]]),Qt={class:"overlay-wrapper"},Xt={class:"overlay"},eo={class:"overlay-header"},to={class:"overlay-content"},oo=k({__name:"Overlay",props:{title:{}},emits:["close"],setup(t,{emit:e}){const n=e,l=()=>{n("close")};return(a,s)=>{const o=Yt,i=le;return c(),m("div",Qt,[y("div",Xt,[y("div",eo,[u(o,{class:"text-xl"},{default:A(()=>[G(M(a.title),1)]),_:1}),u(i,{icon:"close",class:"icon-sm transparent",onClick:l})]),y("div",to,[W(a.$slots,"default",{},void 0,!0)])])])}}}),Te=$(oo,[["__scopeId","data-v-34ee496d"]]),no=["src"],ao=k({__name:"BaseImage",props:{image:{}},setup(t){return(e,n)=>(c(),m("img",{class:"base-image",src:e.image},null,8,no))}}),so=()=>{const{$api:t}=pe(),e=v(!1),n=v(null),l=async(s,o,i)=>{e.value=!0,n.value=null;try{return await t.vote.addVote({locationId:s,voteType:o,verificationEmail:i})}catch(r){return n.value=r instanceof Error?r.message:"An unknown error occurred",console.error("Error adding vote:",r),null}finally{e.value=!1}},a=()=>{n.value=null};return{addVote:l,isLoading:te(e),error:te(n),clearError:a}},lo={class:"vote-create"},io={class:"vote-create-form"},ro={key:0,class:"error-message mt-0-5"},co=k({__name:"VoteCreate",props:{locationId:{},voteType:{}},emits:["close"],setup(t,{emit:e}){const n=t,l=e,{addVote:a,isLoading:s,error:o,clearError:i}=so(),r=v(),d=v(""),p=[F.required("E-mailadres"),F.email("E-mailadres")],h=z(()=>n.voteType===Ie.UPVOTE?"Stem voor":"Stem tegen"),f=()=>{var g;(g=r.value)==null||g.validate(d.value)},S=async()=>{var V;if(!((V=r.value)==null?void 0:V.validate(d.value)))return;const b=await a(n.locationId,n.voteType,d.value);console.log("result",b),b?l("close"):o.value&&console.error("Error adding vote:",o.value)};return(g,b)=>{const V=Ce,R=ye,D=le;return c(),m("div",lo,[y("div",io,[u(R,{id:"email-input",ref_key:"emailInput",ref:r,label:"E-mailadres (voor verificatie)","validation-rules":p},{default:A(({hasError:T,onValidationError:x})=>[u(V,{id:"email-input",modelValue:d.value,"onUpdate:modelValue":[b[0]||(b[0]=U=>d.value=U),f],type:"email",placeholder:"email@voorbeeld.nl"},null,8,["modelValue"])]),_:1},512),u(D,{class:"submit primary-inverted mt-1-50",disabled:_(s),onClick:S},{default:A(()=>[G(M(_(s)?"Bezig met stemmen...":h.value),1)]),_:1},8,["disabled"]),_(o)?(c(),m("div",ro,[G(M(_(o))+" ",1),y("button",{type:"button",class:"error-close",onClick:b[1]||(b[1]=(...T)=>_(i)&&_(i)(...T))},"×")])):C("",!0)])])}}}),uo=$(co,[["__scopeId","data-v-793b8d75"]]),po={class:"location-info-window"},mo={class:"image-container"},_o={class:"tags-container"},vo={class:"buttons mt-0-75"},fo=k({__name:"LocationInfoWindow",props:{location:{}},emits:["close"],setup(t){const e=fe(),n=v(!1),l=t,a=z(()=>{const i="https://maps.googleapis.com/maps/api/streetview",r="600x400",d=e.public.GOOGLE_MAPS_API_KEY,p=`${l.location.latLng.latitude},${l.location.latLng.longitude}`,h=new URLSearchParams({size:r,key:d,location:p});return`${i}?${h.toString()}`}),s=()=>{n.value=!0},o=()=>{n.value=!0};return(i,r)=>{const d=ao,p=be,h=Ae,f=Be,S=le,g=uo,b=Te;return c(),m("div",po,[y("div",mo,[u(d,{image:_(a),alt:"Location Street View",class:"location-image"},null,8,["image"]),y("div",_o,[u(p,{tag:i.location.type},null,8,["tag"]),u(p,{tag:i.location.ownership},null,8,["tag"])])]),u(h,{location:i.location},null,8,["location"]),y("div",vo,[u(S,{class:"primary",onClick:s},{default:A(()=>[u(f,{count:i.location.upvotes||0,type:"upvotes"},null,8,["count"])]),_:1}),u(S,{class:"primary",onClick:o},{default:A(()=>[u(f,{count:i.location.downvotes||0,type:"downvotes"},null,8,["count"])]),_:1}),u(S,{class:"primary-inverted",onClick:r[0]||(r[0]=De(V=>i.$emit("close"),["stop"]))},{default:A(()=>r[2]||(r[2]=[G(" Sluiten ")])),_:1})]),(c(),q(xe,{to:"body"},[_(n)?(c(),q(b,{key:0,title:"Stem nu",onClose:r[1]||(r[1]=V=>n.value=!1)},{default:A(()=>[u(g,{"location-id":i.location.id,"vote-type":_(Ie).UPVOTE},null,8,["location-id","vote-type"])]),_:1})):C("",!0)]))])}}}),go=$(fo,[["__scopeId","data-v-a095e5cb"]]),ho=k({__name:"BaseMarker",props:{map:{},position:{},location:{},autoClose:{type:Boolean}},setup(t){const e=t,n=v(),l=v(!1);let a;const s=z(()=>{const{upvotes:i=0,downvotes:r=0}=e.location;return r>=5&&i>=5?"status-ongeverifieerd":i>=5?"status-geverifieerd":r>=5?"status-afgekeurd":"status-ongeverifieerd"}),o=()=>{a.content&&a.content instanceof HTMLElement&&(a.content.classList.remove("active"),l.value=!1,a.style.zIndex="initial",a.style.pointerEvents="auto")};return de(()=>{a=new google.maps.marker.AdvancedMarkerElement({map:Me(e.map),position:{lat:e.position.lat,lng:e.position.lng},content:n.value}),a.addListener("gmp-click",()=>{a.content&&a.content instanceof HTMLElement&&(a.content.classList.contains("active")||(a.content.classList.add("active"),a.style.zIndex="9999",l.value=!0,a.content.style.left="calc(50% - 12px)",a.style.pointerEvents="none"))})}),qe(()=>{a&&(a.map=null)}),(i,r)=>{const d=se,p=go;return i.map?(c(),m("div",{key:0,ref_key:"markerContent",ref:n,class:"marker-container"},[u(d,{icon:_(s),class:"icon icon-m white"},null,8,["icon"]),_(l)?(c(),q(p,{key:0,class:"info-window",location:i.location,onClose:o},null,8,["location"])):C("",!0),r[0]||(r[0]=y("svg",{class:"triangle-pointer",width:"30",height:"15",viewBox:"0 0 30 15"},[y("path",{d:"M 0,0 L 0,12 L 12,0 Z",fill:"currentColor"}),y("path",{d:"M 0,0 L 0,12 L 12,0",fill:"currentColor",stroke:"#ffffff","stroke-width":"1"})],-1))],512)):C("",!0)}}}),yo=$(ho,[["__scopeId","data-v-23247929"]]),bo=k({__name:"BaseMap",props:{google:{},mapConfig:{},center:{}},setup(t){const e=t,n=v(null),l=v(null);return de(async()=>{try{n.value&&(l.value=new e.google.maps.Map(n.value,e.mapConfig))}catch(a){console.error("Error loading map: ",a)}}),Ue(()=>e.center,a=>{l.value&&l.value.panTo(a)},{deep:!0}),(a,s)=>(c(),m(ne,null,[y("div",{ref_key:"mapContainer",ref:n,class:"map"},null,512),_(l)?W(a.$slots,"default",{key:0,map:_(l)},void 0,!0):C("",!0)],64))}}),Eo=$(bo,[["__scopeId","data-v-f072e08c"]]),Io={class:"full-width map-container"},$o=k({__name:"LocationMap",props:{locations:{},center:{}},setup(t){const e=t,n=fe(),l=v(),a={center:{lat:e.center.latitude,lng:e.center.longitude},mapId:n.public.GOOGLE_MAPS_MAP_ID,zoom:12,disableDefaultUI:!0};return(s,o)=>{const i=yo,r=Eo,d=we;return c(),m("div",Io,[u(d,null,{default:A(({google:p})=>[u(r,{ref_key:"mapRef",ref:l,google:p,"map-config":a,center:{lat:s.center.latitude,lng:s.center.longitude}},{default:A(({map:h})=>[(c(!0),m(ne,null,ae(s.locations,f=>(c(),q(i,{key:f.id,map:h,location:f,google:p,position:{lat:f.latLng.latitude,lng:f.latLng.longitude},title:f.address},null,8,["map","location","google","position","title"]))),128))]),_:2},1032,["google","center"])]),_:1})])}}}),Lo=$($o,[["__scopeId","data-v-20248fbd"]]),So=()=>{const t=v({isOpen:!1,title:"",component:null}),e=(l,a)=>{t.value={isOpen:!0,title:l,component:a}},n=()=>{t.value={isOpen:!1,title:"",component:null}};return{overlayState:te(t),openOverlay:e,closeOverlay:n}},Vo={class:"index"},wo={class:"map-overlay"},ko={class:"sidebar"},Oo={class:"flex-row"},Ao={class:"top-bar"},Bo={class:"info-buttons"},Ro={class:"info-buttons-aside"},Co={class:"bottom-bar"},Do=k({__name:"index",setup(t){var j;const e=Ne(),n=je(),{$firestore:l}=pe();Fe({title:"Wasted Spaces",meta:[{name:"",content:""}]});const a=v([]),s=v([]),o=v(new ve(51.9146308,4.4709485)),i=v(((j=n.query.filter)==null?void 0:j.toString().toUpperCase())||null),r=v(50),{overlayState:d,openOverlay:p,closeOverlay:h}=So(),f=async()=>{try{a.value=await l.getLocations(),console.log(a.value),s.value=b(a.value),s.value=R(s.value,i.value),s.value=V(s.value)}catch(E){console.error("Error fetching locations:",E)}};function S(E,O,B,Z){const J=g(B-E),K=g(Z-O),Y=Math.sin(J/2)*Math.sin(J/2)+Math.cos(g(E))*Math.cos(g(B))*Math.sin(K/2)*Math.sin(K/2);return 6371*(2*Math.atan2(Math.sqrt(Y),Math.sqrt(1-Y)))}function g(E){return E*(Math.PI/180)}const b=E=>E.map(O=>({...O,distance:S(o.value.latitude,o.value.longitude,O.latLng.latitude,O.latLng.longitude)})).filter(O=>O.distance<=r.value).sort((O,B)=>O.distance-B.distance),V=E=>E.filter(O=>O.verified),R=(E,O)=>O?E.filter(B=>B.type===O):E,D=E=>{o.value=E},T=E=>{o.value=E,s.value=b(a.value),s.value=V(s.value)},x=E=>{i.value=E,e.push({query:{...n.query,filter:(E==null?void 0:E.toString().toLowerCase())||void 0}}),s.value=b(a.value),s.value=R(s.value,E),s.value=V(s.value)},U=()=>{p("Meld leegstand","LocationCreate")};return f(),(E,O)=>{const B=se,Z=ke,ie=ct,J=Vt,K=le,Y=At,re=Wt,L=Te,w=Lo;return c(),m("div",Vo,[y("div",wo,[y("div",ko,[y("div",Oo,[u(B,{class:"logo icon-lxl",icon:"logo_standalone_red"}),u(B,{class:"logo",icon:"logo_text_long"})]),u(Z,{id:"sidebar-input",class:"mt-1-0",onLocationSelected:T}),u(ie,{class:"mt-1-0","model-value":"currentFilter",onFilterSelected:x}),u(J,{locations:_(s),class:"mt-1-0",onLocationSelected:D},null,8,["locations"])]),y("div",Ao,[u(Z,{id:"topbar-input",onLocationSelected:T})]),y("div",Bo,[y("div",Ro,[u(K,{class:"primary-inverted",icon:"documents"}),u(K,{class:"primary-inverted",icon:"info"})]),u(K,{class:"primary-inverted",icon:"add",onClick:U})]),y("div",Co,[u(Y,{locations:_(s),onLocationSelected:D},null,8,["locations"])])]),_(d).isOpen?(c(),q(L,{key:0,title:_(d).title,onClose:_(h)},{default:A(()=>[_(d).component==="LocationCreate"?(c(),q(re,{key:0,onClose:_(h)},null,8,["onClose"])):C("",!0)]),_:1},8,["title","onClose"])):C("",!0),u(w,{class:"map",locations:_(s),center:_(o)},null,8,["locations","center"])])}}});export{Do as default};
